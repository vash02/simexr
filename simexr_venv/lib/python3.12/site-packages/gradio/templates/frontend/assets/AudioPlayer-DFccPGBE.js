import{a0 as lt,a1 as ut,a2 as dt,a3 as ht,a4 as ct,G as ft,i as mt,v as gt,z as pt,E as _t,M as vt,y as Re}from"./FullscreenButton-CY3DenSN.js";import"./i18n-Dub1g69U.js";import{r as Ue}from"./DownloadLink-Clun45p7.js";import{H as le}from"./hls-C7-VjdhD.js";var bt=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(a){try{d(i.next(a))}catch(h){o(h)}}function u(a){try{d(i.throw(a))}catch(h){o(h)}}function d(a){a.done?s(a.value):n(a.value).then(l,u)}d((i=i.apply(r,e||[])).next())})};function wt(r,e){return bt(this,void 0,void 0,function*(){const t=new AudioContext({sampleRate:e});return t.decodeAudioData(r).finally(()=>t.close())})}function yt(r){const e=r[0];if(e.some(t=>t>1||t<-1)){const t=e.length;let i=0;for(let n=0;n<t;n++){const s=Math.abs(e[n]);s>i&&(i=s)}for(const n of r)for(let s=0;s<t;s++)n[s]/=i}return r}function kt(r,e){return typeof r[0]=="number"&&(r=[r]),yt(r),{duration:e,length:r[0].length,sampleRate:r[0].length/e,numberOfChannels:r.length,getChannelData:t=>r?.[t],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}const De={decode:wt,createBuffer:kt};var qe=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(a){try{d(i.next(a))}catch(h){o(h)}}function u(a){try{d(i.throw(a))}catch(h){o(h)}}function d(a){a.done?s(a.value):n(a.value).then(l,u)}d((i=i.apply(r,e||[])).next())})};function Ct(r,e,t){var i,n;return qe(this,void 0,void 0,function*(){const s=yield fetch(r,t);{const o=(i=s.clone().body)===null||i===void 0?void 0:i.getReader(),l=Number((n=s.headers)===null||n===void 0?void 0:n.get("Content-Length"));let u=0;const d=(a,h)=>qe(this,void 0,void 0,function*(){if(a)return;u+=h?.length||0;const p=Math.round(u/l*100);return e(p),o?.read().then(({done:c,value:f})=>d(c,f))});o?.read().then(({done:a,value:h})=>d(a,h))}return s.blob()})}const Et={fetchBlob:Ct};class Le{constructor(){this.listeners={},this.on=this.addEventListener,this.un=this.removeEventListener}addEventListener(e,t,i){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),i?.once){const n=()=>{this.removeEventListener(e,n),this.removeEventListener(e,t)};return this.addEventListener(e,n),n}return()=>this.removeEventListener(e,t)}removeEventListener(e,t){var i;(i=this.listeners[e])===null||i===void 0||i.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(i=>i(...t))}}class Rt extends Le{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)})}onMediaEvent(e,t,i){return this.media.addEventListener(e,t,i),()=>this.media.removeEventListener(e,t)}onceMediaEvent(e,t){return this.onMediaEvent(e,t,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}setSrc(e,t){if(this.getSrc()===e)return;this.revokeSrc();const n=t instanceof Blob?URL.createObjectURL(t):e;this.media.src=n,this.media.load()}destroy(){this.media.pause(),!this.isExternalMedia&&(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=e}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(e,t){t!=null&&(this.media.preservesPitch=t),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}function Lt(r,e,t,i,n=5){let s=()=>{};if(!r)return s;const o=l=>{if(l.button===2)return;l.preventDefault(),l.stopPropagation(),r.style.touchAction="none";let u=l.clientX,d=l.clientY,a=!1;const h=f=>{f.preventDefault(),f.stopPropagation();const w=f.clientX,L=f.clientY;if(a||Math.abs(w-u)>=n||Math.abs(L-d)>=n){const{left:E,top:g}=r.getBoundingClientRect();a||(a=!0,t?.(u-E,d-g)),e(w-u,L-d,w-E,L-g),u=w,d=L}},p=f=>{a&&(f.preventDefault(),f.stopPropagation())},c=()=>{r.style.touchAction="",a&&i?.(),s()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",c),document.addEventListener("pointerleave",c),document.addEventListener("click",p,!0),s=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",c),document.removeEventListener("pointerleave",c),setTimeout(()=>{document.removeEventListener("click",p,!0)},10)}};return r.addEventListener("pointerdown",o),()=>{s(),r.removeEventListener("pointerdown",o)}}class Se extends Le{constructor(e,t){super(),this.timeouts=[],this.isScrolling=!1,this.audioData=null,this.resizeObserver=null,this.isDragging=!1,this.options=e;const i=this.parentFromOptionsContainer(e.container);this.parent=i;const[n,s]=this.initHtml();i.appendChild(n),this.container=n,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),t&&s.appendChild(t),this.initEvents()}parentFromOptionsContainer(e){let t;if(typeof e=="string"?t=document.querySelector(e):e instanceof HTMLElement&&(t=e),!t)throw new Error("Container not found");return t}initEvents(){const e=i=>{const n=this.wrapper.getBoundingClientRect(),s=i.clientX-n.left,o=i.clientX-n.left,l=s/n.width,u=o/n.height;return[l,u]};this.wrapper.addEventListener("click",i=>{const[n,s]=e(i);this.emit("click",n,s)}),this.wrapper.addEventListener("dblclick",i=>{const[n,s]=e(i);this.emit("dblclick",n,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:i,scrollWidth:n,clientWidth:s}=this.scrollContainer,o=i/n,l=(i+s)/n;this.emit("scroll",o,l)});const t=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{t(()=>this.reRender())}),this.resizeObserver.observe(this.scrollContainer)}initDrag(){Lt(this.wrapper,(e,t,i)=>{this.emit("drag",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(){return this.options.height==null?128:isNaN(Number(this.options.height))?this.options.height==="auto"&&this.parent.clientHeight||128:Number(this.options.height)}initHtml(){const e=document.createElement("div"),t=e.attachShadow({mode:"open"});return t.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight()}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,t]}setOptions(e){if(this.options.container!==e.container){const t=this.parentFromOptionsContainer(e.container);t.appendChild(this.container),this.parent=t}e.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var e;this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect()}createDelay(e=10){const t={};return this.timeouts.push(t),i=>{t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(i,e)}}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const t=document.createElement("canvas"),n=t.getContext("2d").createLinearGradient(0,0,0,t.height),s=1/(e.length-1);return e.forEach((o,l)=>{const u=l*s;n.addColorStop(u,o)}),n}renderBarWaveform(e,t,i,n){const s=e[0],o=e[1]||e[0],l=s.length,{width:u,height:d}=i.canvas,a=d/2,h=window.devicePixelRatio||1,p=t.barWidth?t.barWidth*h:1,c=t.barGap?t.barGap*h:t.barWidth?p/2:0,f=t.barRadius||0,w=u/(p+c)/l,L=f&&"roundRect"in i?"roundRect":"rect";i.beginPath();let E=0,g=0,S=0;for(let y=0;y<=l;y++){const b=Math.round(y*w);if(b>E){const C=Math.round(g*a*n),R=Math.round(S*a*n),x=C+R||1;let W=a-C;t.barAlign==="top"?W=0:t.barAlign==="bottom"&&(W=d-x),i[L](E*(p+c),W,p,x,f),E=b,g=0,S=0}const D=Math.abs(s[y]||0),_=Math.abs(o[y]||0);D>g&&(g=D),_>S&&(S=_)}i.fill(),i.closePath()}renderLineWaveform(e,t,i,n){const s=o=>{const l=e[o]||e[0],u=l.length,{height:d}=i.canvas,a=d/2,h=i.canvas.width/u;i.moveTo(0,a);let p=0,c=0;for(let f=0;f<=u;f++){const w=Math.round(f*h);if(w>p){const E=Math.round(c*a*n)||1,g=a+E*(o===0?-1:1);i.lineTo(p,g),p=w,c=0}const L=Math.abs(l[f]||0);L>c&&(c=L)}i.lineTo(p,a)};i.beginPath(),s(0),s(1),i.fill(),i.closePath()}renderWaveform(e,t,i){if(i.fillStyle=this.convertColorValues(t.waveColor),t.renderFunction){t.renderFunction(e,i);return}let n=t.barHeight||1;if(t.normalize){const s=Array.from(e[0]).reduce((o,l)=>Math.max(o,Math.abs(l)),0);n=s?1/s:1}if(t.barWidth||t.barGap||t.barAlign){this.renderBarWaveform(e,t,i,n);return}this.renderLineWaveform(e,t,i,n)}renderSingleCanvas(e,t,i,n,s,o,l,u){const d=window.devicePixelRatio||1,a=document.createElement("canvas"),h=e[0].length;a.width=Math.round(i*(o-s)/h),a.height=n*d,a.style.width=`${Math.floor(a.width/d)}px`,a.style.height=`${n}px`,a.style.left=`${Math.floor(s*i/d/h)}px`,l.appendChild(a);const p=a.getContext("2d");if(this.renderWaveform(e.map(c=>c.slice(s,o)),t,p),a.width>0&&a.height>0){const c=a.cloneNode(),f=c.getContext("2d");f.drawImage(a,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(t.progressColor),f.fillRect(0,0,a.width,a.height),u.appendChild(c)}}renderChannel(e,t,i){const n=document.createElement("div"),s=this.getHeight();n.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(n);const o=n.cloneNode();this.progressWrapper.appendChild(o);const{scrollLeft:l,scrollWidth:u,clientWidth:d}=this.scrollContainer,a=e[0].length,h=a/u;let p=Math.min(Se.MAX_CANVAS_WIDTH,d);if(t.barWidth||t.barGap){const b=t.barWidth||.5,D=t.barGap||b/2,_=b+D;p%_!==0&&(p=Math.floor(p/_)*_)}const c=Math.floor(Math.abs(l)*h),f=Math.floor(c+p*h),w=f-c,L=(b,D)=>{this.renderSingleCanvas(e,t,i,s,Math.max(0,b),Math.min(D,a),n,o)},E=this.createDelay(),g=this.createDelay(),S=(b,D)=>{L(b,D),b>0&&E(()=>{S(b-w,D-w)})},y=(b,D)=>{L(b,D),D<a&&g(()=>{y(b+w,D+w)})};S(c,f),f<a&&y(f,f+w)}render(e){this.timeouts.forEach(l=>l.timeout&&clearTimeout(l.timeout)),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.wrapper.style.width="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const t=window.devicePixelRatio||1,i=this.scrollContainer.clientWidth,n=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrolling=n>i;const s=this.options.fillParent&&!this.isScrolling,o=(s?i:n)*t;if(this.wrapper.style.width=s?"100%":`${n}px`,this.scrollContainer.style.overflowX=this.isScrolling?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.options.splitChannels)for(let l=0;l<e.numberOfChannels;l++){const u=Object.assign(Object.assign({},this.options),this.options.splitChannels[l]);this.renderChannel([e.getChannelData(l)],u,o)}else{const l=[e.getChannelData(0)];e.numberOfChannels>1&&l.push(e.getChannelData(1)),this.renderChannel(l,this.options,o)}this.audioData=e,this.emit("render")}reRender(){if(!this.audioData)return;const e=this.progressWrapper.clientWidth;this.render(this.audioData);const t=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=t-e}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,t=!1){const{clientWidth:i,scrollLeft:n,scrollWidth:s}=this.scrollContainer,o=s*e,l=i/2,u=t&&this.options.autoCenter&&!this.isDragging?l:i;if(o>n+u||o<n)if(this.options.autoCenter&&!this.isDragging){const d=l/20;o-(n+l)>=d&&o<n+i?this.scrollContainer.scrollLeft+=d:this.scrollContainer.scrollLeft=o-l}else this.isDragging?this.scrollContainer.scrollLeft=o<n?o-10:o-i+10:this.scrollContainer.scrollLeft=o;{const{scrollLeft:d}=this.scrollContainer,a=d/s,h=(d+i)/s;this.emit("scroll",a,h)}}renderProgress(e,t){if(isNaN(e))return;const i=e*100;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.marginLeft=Math.round(i)===100?`-${this.options.cursorWidth}px`:"",this.isScrolling&&this.options.autoScroll&&this.scrollIntoView(e,t)}}Se.MAX_CANVAS_WIDTH=4e3;class St extends Le{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}var Me=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(a){try{d(i.next(a))}catch(h){o(h)}}function u(a){try{d(i.throw(a))}catch(h){o(h)}}function d(a){a.done?s(a.value):n(a.value).then(l,u)}d((i=i.apply(r,e||[])).next())})};class Dt extends Le{constructor(e=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Me(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){this.currentSrc=e,fetch(e).then(t=>t.arrayBuffer()).then(t=>this.audioContext.decodeAudioData(t)).then(t=>{this.buffer=t,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play()})}_play(){var e;this.paused&&(this.paused=!1,(e=this.bufferNode)===null||e===void 0||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.connect(this.gainNode),this.playedDuration>=this.duration&&(this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,this.playedDuration),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))})}_pause(){var e;this.paused||(this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime)}play(){return Me(this,void 0,void 0,function*(){this._play(),this.emit("play")})}pause(){this._pause(),this.emit("pause")}setSinkId(e){return Me(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){var e,t;return(t=(e=this.bufferNode)===null||e===void 0?void 0:e.playbackRate.value)!==null&&t!==void 0?t:1}set playbackRate(e){this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return this.paused?this.playedDuration:this.playedDuration+this.audioContext.currentTime-this.playStartTime}set currentTime(e){this.emit("seeking"),this.paused?this.playedDuration=e:(this._pause(),this.playedDuration=e,this._play()),this.emit("timeupdate")}get duration(){var e;return((e=this.buffer)===null||e===void 0?void 0:e.duration)||0}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}getGainNode(){return this.gainNode}}var ue=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(a){try{d(i.next(a))}catch(h){o(h)}}function u(a){try{d(i.throw(a))}catch(h){o(h)}}function d(a){a.done?s(a.value):n(a.value).then(l,u)}d((i=i.apply(r,e||[])).next())})};const Mt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class ze extends Rt{static create(e){return new ze(e)}constructor(e){const t=e.media||(e.backend==="WebAudio"?new Dt:void 0);super({media:t,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},Mt,e),this.timer=new St;const i=t?void 0:this.getMediaElement();this.renderer=new Se(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const n=this.options.url||this.getSrc();n?this.load(n,this.options.peaks,this.options.duration):this.options.peaks&&this.options.duration&&this.loadPredecoded()}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{const e=this.getCurrentTime();this.renderer.renderProgress(e/this.getDuration(),!0),this.emit("timeupdate",e),this.emit("audioprocess",e)}))}initPlayerEvents(){this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.getCurrentTime();this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,t)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,t))}),this.renderer.on("dblclick",(e,t)=>{this.emit("dblclick",e,t)}),this.renderer.on("scroll",(e,t)=>{const i=this.getDuration();this.emit("scroll",e*i,t*i)}),this.renderer.on("render",()=>{this.emit("redraw")}));{let e;this.subscriptions.push(this.renderer.on("drag",t=>{this.options.interact&&(this.renderer.renderProgress(t),clearTimeout(e),e=setTimeout(()=>{this.seekTo(t)},this.isPlaying()?0:200),this.emit("interaction",t*this.getDuration()),this.emit("drag",t))}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach(t=>{this.registerPlugin(t)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e.init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",()=>{this.plugins=this.plugins.filter(t=>t!==e)})),e}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}loadPredecoded(){return ue(this,void 0,void 0,function*(){this.options.peaks&&this.options.duration&&(this.decodedData=De.createBuffer(this.options.peaks,this.options.duration),yield Promise.resolve(),this.renderDecoded())})}renderDecoded(){return ue(this,void 0,void 0,function*(){this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData))})}loadAudio(e,t,i,n){return ue(this,void 0,void 0,function*(){if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!t&&!i){const s=o=>this.emit("loading",o);t=yield Et.fetchBlob(e,s,this.options.fetchParams)}if(this.setSrc(e,t),n=(yield Promise.resolve(n||this.getDuration()))||(yield new Promise(s=>{this.onceMediaEvent("loadedmetadata",()=>s(this.getDuration()))}))||(yield Promise.resolve(0)),i)this.decodedData=De.createBuffer(i,n);else if(t){const s=yield t.arrayBuffer();this.decodedData=yield De.decode(s,this.options.sampleRate)}this.renderDecoded(),this.emit("ready",this.getDuration())})}load(e,t,i){return ue(this,void 0,void 0,function*(){yield this.loadAudio(e,void 0,t,i)})}loadBlob(e,t,i){return ue(this,void 0,void 0,function*(){yield this.loadAudio("blob",e,t,i)})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:t=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const n=Math.min(e,this.decodedData.numberOfChannels),s=[];for(let o=0;o<n;o++){const l=this.decodedData.getChannelData(o),u=[],d=Math.round(l.length/t);for(let a=0;a<t;a++){const h=l.slice(a*d,(a+1)*d),p=Math.max(...h);u.push(Math.round(p*i)/i)}s.push(u)}return s}getDuration(){let e=super.getDuration()||0;return(e===0||e===1/0)&&this.decodedData&&(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}seekTo(e){const t=this.getDuration()*e;this.setTime(t)}playPause(){return ue(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}destroy(){this.emit("destroy"),this.plugins.forEach(e=>e.destroy()),this.subscriptions.forEach(e=>e()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}function Pt(r){const e=r.numberOfChannels,t=r.length*e*2+44,i=new ArrayBuffer(t),n=new DataView(i);let s=0;const o=function(l,u,d){for(let a=0;a<d.length;a++)l.setUint8(u+a,d.charCodeAt(a))};o(n,s,"RIFF"),s+=4,n.setUint32(s,t-8,!0),s+=4,o(n,s,"WAVE"),s+=4,o(n,s,"fmt "),s+=4,n.setUint32(s,16,!0),s+=4,n.setUint16(s,1,!0),s+=2,n.setUint16(s,e,!0),s+=2,n.setUint32(s,r.sampleRate,!0),s+=4,n.setUint32(s,r.sampleRate*2*e,!0),s+=4,n.setUint16(s,e*2,!0),s+=2,n.setUint16(s,16,!0),s+=2,o(n,s,"data"),s+=4,n.setUint32(s,r.length*e*2,!0),s+=4;for(let l=0;l<r.length;l++)for(let u=0;u<e;u++){const d=Math.max(-1,Math.min(1,r.getChannelData(u)[l]));n.setInt16(s,d*32767,!0),s+=2}return new Uint8Array(i)}const Tt=async(r,e,t,i)=>{const n=new AudioContext({sampleRate:i||r.sampleRate}),s=r.numberOfChannels,o=i||r.sampleRate;let l=r.length,u=0;e&&t&&(u=Math.round(e*o),l=Math.round(t*o)-u);const d=n.createBuffer(s,l,o);for(let a=0;a<s;a++){const h=r.getChannelData(a),p=d.getChannelData(a);for(let c=0;c<l;c++)p[c]=h[u+c]}return Pt(d)},Ie=(r,e)=>{r&&r.skip(e)},he=(r,e)=>(e||(e=5),r/100*e||5);class ot{constructor(){this.listeners={},this.on=this.addEventListener,this.un=this.removeEventListener}addEventListener(e,t,i){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),i?.once){const n=()=>{this.removeEventListener(e,n),this.removeEventListener(e,t)};return this.addEventListener(e,n),n}return()=>this.removeEventListener(e,t)}removeEventListener(e,t){var i;(i=this.listeners[e])===null||i===void 0||i.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(i=>i(...t))}}class At extends ot{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}}function Ee(r,e,t,i,n=5){let s=()=>{};if(!r)return s;const o=l=>{if(l.button===2)return;l.preventDefault(),l.stopPropagation(),r.style.touchAction="none";let u=l.clientX,d=l.clientY,a=!1;const h=f=>{f.preventDefault(),f.stopPropagation();const w=f.clientX,L=f.clientY;if(a||Math.abs(w-u)>=n||Math.abs(L-d)>=n){const{left:E,top:g}=r.getBoundingClientRect();a||(a=!0,t?.(u-E,d-g)),e(w-u,L-d,w-E,L-g),u=w,d=L}},p=f=>{a&&(f.preventDefault(),f.stopPropagation())},c=()=>{r.style.touchAction="",a&&i?.(),s()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",c),document.addEventListener("pointerleave",c),document.addEventListener("click",p,!0),s=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",c),document.removeEventListener("pointerleave",c),setTimeout(()=>{document.removeEventListener("click",p,!0)},10)}};return r.addEventListener("pointerdown",o),()=>{s(),r.removeEventListener("pointerdown",o)}}class Fe extends ot{constructor(e,t,i=0){var n,s,o,l,u,d,a;super(),this.totalDuration=t,this.numberOfChannels=i,this.minLength=0,this.maxLength=1/0,this.id=e.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(e.start),this.end=this.clampPosition((n=e.end)!==null&&n!==void 0?n:e.start),this.drag=(s=e.drag)===null||s===void 0||s,this.resize=(o=e.resize)===null||o===void 0||o,this.color=(l=e.color)!==null&&l!==void 0?l:"rgba(0, 0, 0, 0.1)",this.minLength=(u=e.minLength)!==null&&u!==void 0?u:this.minLength,this.maxLength=(d=e.maxLength)!==null&&d!==void 0?d:this.maxLength,this.channelIdx=(a=e.channelIdx)!==null&&a!==void 0?a:-1,this.element=this.initElement(),this.setContent(e.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(e){return Math.max(0,Math.min(this.totalDuration,e))}setPart(){const e=this.start===this.end;this.element.setAttribute("part",`${e?"marker":"region"} ${this.id}`)}addResizeHandles(e){const t=document.createElement("div");t.setAttribute("data-resize","left"),t.setAttribute("style",`
        position: absolute;
        z-index: 2;
        width: 6px;
        height: 100%;
        top: 0;
        left: 0;
        border-left: 2px solid rgba(0, 0, 0, 0.5);
        border-radius: 2px 0 0 2px;
        cursor: ew-resize;
        word-break: keep-all;
      `),t.setAttribute("part","region-handle region-handle-left");const i=t.cloneNode();i.setAttribute("data-resize","right"),i.style.left="",i.style.right="0",i.style.borderRight=i.style.borderLeft,i.style.borderLeft="",i.style.borderRadius="0 2px 2px 0",i.setAttribute("part","region-handle region-handle-right"),e.appendChild(t),e.appendChild(i),Ee(t,n=>this.onResize(n,"start"),()=>null,()=>this.onEndResizing(),1),Ee(i,n=>this.onResize(n,"end"),()=>null,()=>this.onEndResizing(),1)}removeResizeHandles(e){const t=e.querySelector('[data-resize="left"]'),i=e.querySelector('[data-resize="right"]');t&&e.removeChild(t),i&&e.removeChild(i)}initElement(){const e=document.createElement("div"),t=this.start===this.end;let i=0,n=100;return this.channelIdx>=0&&this.channelIdx<this.numberOfChannels&&(n=100/this.numberOfChannels,i=n*this.channelIdx),e.setAttribute("style",`
      position: absolute;
      top: ${i}%;
      height: ${n}%;
      background-color: ${t?"none":this.color};
      border-left: ${t?"2px solid "+this.color:"none"};
      border-radius: 2px;
      box-sizing: border-box;
      transition: background-color 0.2s ease;
      cursor: ${this.drag?"grab":"default"};
      pointer-events: all;
    `),!t&&this.resize&&this.addResizeHandles(e),e}renderPosition(){const e=this.start/this.totalDuration,t=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*e+"%",this.element.style.right=100*t+"%"}initMouseEvents(){const{element:e}=this;e&&(e.addEventListener("click",t=>this.emit("click",t)),e.addEventListener("mouseenter",t=>this.emit("over",t)),e.addEventListener("mouseleave",t=>this.emit("leave",t)),e.addEventListener("dblclick",t=>this.emit("dblclick",t)),Ee(e,t=>this.onMove(t),()=>this.onStartMoving(),()=>this.onEndMoving()))}onStartMoving(){this.drag&&(this.element.style.cursor="grabbing")}onEndMoving(){this.drag&&(this.element.style.cursor="grab",this.emit("update-end"))}_onUpdate(e,t){if(!this.element.parentElement)return;const i=e/this.element.parentElement.clientWidth*this.totalDuration,n=t&&t!=="start"?this.start:this.start+i,s=t&&t!=="end"?this.end:this.end+i,o=s-n;n>=0&&s<=this.totalDuration&&n<=s&&o>=this.minLength&&o<=this.maxLength&&(this.start=n,this.end=s,this.renderPosition(),this.emit("update"))}onMove(e){this.drag&&this._onUpdate(e)}onResize(e,t){this.resize&&this._onUpdate(e,t)}onEndResizing(){this.resize&&this.emit("update-end")}_setTotalDuration(e){this.totalDuration=e,this.renderPosition()}play(){this.emit("play")}setContent(e){var t;if((t=this.content)===null||t===void 0||t.remove(),e){if(typeof e=="string"){this.content=document.createElement("div");const i=this.start===this.end;this.content.style.padding=`0.2em ${i?.2:.4}em`,this.content.textContent=e}else this.content=e;this.content.setAttribute("part","region-content"),this.element.appendChild(this.content)}else this.content=void 0}setOptions(e){var t,i;if(e.color&&(this.color=e.color,this.element.style.backgroundColor=this.color),e.drag!==void 0&&(this.drag=e.drag,this.element.style.cursor=this.drag?"grab":"default"),e.start!==void 0||e.end!==void 0){const n=this.start===this.end;this.start=this.clampPosition((t=e.start)!==null&&t!==void 0?t:this.start),this.end=this.clampPosition((i=e.end)!==null&&i!==void 0?i:n?this.start:this.end),this.renderPosition(),this.setPart()}if(e.content&&this.setContent(e.content),e.id&&(this.id=e.id,this.setPart()),e.resize!==void 0&&e.resize!==this.resize){const n=this.start===this.end;this.resize=e.resize,this.resize&&!n?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}}remove(){this.emit("remove"),this.element.remove(),this.element=null}}class Oe extends At{constructor(e){super(e),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(e){return new Oe(e)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let e=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",t=>{const i=this.regions.filter(n=>n.start<=t&&n.end>=t);i.forEach(n=>{e.includes(n)||this.emit("region-in",n)}),e.forEach(n=>{i.includes(n)||this.emit("region-out",n)}),e=i}))}initRegionsContainer(){const e=document.createElement("div");return e.setAttribute("style",`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 3;
      pointer-events: none;
    `),e}getRegions(){return this.regions}avoidOverlapping(e){if(!e.content)return;const t=e.content,i=t.getBoundingClientRect().left,n=e.element.scrollWidth,s=this.regions.filter(o=>{if(o===e||!o.content)return!1;const l=o.content.getBoundingClientRect().left,u=o.element.scrollWidth;return i<l+u&&l<i+n}).map(o=>{var l;return((l=o.content)===null||l===void 0?void 0:l.getBoundingClientRect().height)||0}).reduce((o,l)=>o+l,0);t.style.marginTop=`${s}px`}saveRegion(e){this.regionsContainer.appendChild(e.element),this.avoidOverlapping(e),this.regions.push(e);const t=[e.on("update-end",()=>{this.avoidOverlapping(e),this.emit("region-updated",e)}),e.on("play",()=>{var i,n;(i=this.wavesurfer)===null||i===void 0||i.play(),(n=this.wavesurfer)===null||n===void 0||n.setTime(e.start)}),e.on("click",i=>{this.emit("region-clicked",e,i)}),e.on("dblclick",i=>{this.emit("region-double-clicked",e,i)}),e.once("remove",()=>{t.forEach(i=>i()),this.regions=this.regions.filter(i=>i!==e)})];this.subscriptions.push(...t),this.emit("region-created",e)}addRegion(e){var t,i;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const n=this.wavesurfer.getDuration(),s=(i=(t=this.wavesurfer)===null||t===void 0?void 0:t.getDecodedData())===null||i===void 0?void 0:i.numberOfChannels,o=new Fe(e,n,s);return n?this.saveRegion(o):this.subscriptions.push(this.wavesurfer.once("ready",l=>{o._setTotalDuration(l),this.saveRegion(o)})),o}enableDragSelection(e){var t,i;const n=(i=(t=this.wavesurfer)===null||t===void 0?void 0:t.getWrapper())===null||i===void 0?void 0:i.querySelector("div");if(!n)return()=>{};let s=null,o=0;return Ee(n,(l,u,d)=>{s&&s._onUpdate(l,d>o?"end":"start")},l=>{var u,d;if(o=l,!this.wavesurfer)return;const a=this.wavesurfer.getDuration(),h=(d=(u=this.wavesurfer)===null||u===void 0?void 0:u.getDecodedData())===null||d===void 0?void 0:d.numberOfChannels,p=this.wavesurfer.getWrapper().clientWidth,c=l/p*a,f=(l+5)/p*a;s=new Fe(Object.assign(Object.assign({},e),{start:c,end:f}),a,h),this.regionsContainer.appendChild(s.element)},()=>{s&&(this.saveRegion(s),s=null)})}clearRegions(){this.regions.forEach(e=>e.remove())}destroy(){this.clearRegions(),super.destroy()}}const{SvelteComponent:Wt,check_outros:zt,create_component:He,destroy_component:Ne,detach:Ot,empty:Ht,flush:Nt,group_outros:Vt,init:jt,insert:Bt,mount_component:Ve,safe_not_equal:xt,transition_in:be,transition_out:we}=window.__gradio__svelte__internal;function Ut(r){let e,t;return e=new dt({}),{c(){He(e.$$.fragment)},m(i,n){Ve(e,i,n),t=!0},i(i){t||(be(e.$$.fragment,i),t=!0)},o(i){we(e.$$.fragment,i),t=!1},d(i){Ne(e,i)}}}function qt(r){let e,t;return e=new ut({}),{c(){He(e.$$.fragment)},m(i,n){Ve(e,i,n),t=!0},i(i){t||(be(e.$$.fragment,i),t=!0)},o(i){we(e.$$.fragment,i),t=!1},d(i){Ne(e,i)}}}function It(r){let e,t;return e=new lt({}),{c(){He(e.$$.fragment)},m(i,n){Ve(e,i,n),t=!0},i(i){t||(be(e.$$.fragment,i),t=!0)},o(i){we(e.$$.fragment,i),t=!1},d(i){Ne(e,i)}}}function Ft(r){let e,t,i,n;const s=[It,qt,Ut],o=[];function l(u,d){return u[0]==0?0:u[0]<.5?1:u[0]>=.5?2:-1}return~(e=l(r))&&(t=o[e]=s[e](r)),{c(){t&&t.c(),i=Ht()},m(u,d){~e&&o[e].m(u,d),Bt(u,i,d),n=!0},p(u,[d]){let a=e;e=l(u),e!==a&&(t&&(Vt(),we(o[a],1,1,()=>{o[a]=null}),zt()),~e?(t=o[e],t||(t=o[e]=s[e](u),t.c()),be(t,1),t.m(i.parentNode,i)):t=null)},i(u){n||(be(t),n=!0)},o(u){we(t),n=!1},d(u){u&&Ot(i),~e&&o[e].d(u)}}}function Xt(r,e,t){let{currentVolume:i}=e;return r.$$set=n=>{"currentVolume"in n&&t(0,i=n.currentVolume)},[i]}class Gt extends Wt{constructor(e){super(),jt(this,e,Xt,Ft,xt,{currentVolume:0})}get currentVolume(){return this.$$.ctx[0]}set currentVolume(e){this.$$set({currentVolume:e}),Nt()}}const{SvelteComponent:Yt,attr:de,binding_callbacks:Kt,detach:Jt,element:Qt,flush:Pe,init:Zt,insert:$t,listen:Xe,noop:Ge,run_all:ei,safe_not_equal:ti}=window.__gradio__svelte__internal,{onMount:ii}=window.__gradio__svelte__internal;function ni(r){let e,t,i;return{c(){e=Qt("input"),de(e,"id","volume"),de(e,"class","volume-slider svelte-wuo8j5"),de(e,"type","range"),de(e,"min","0"),de(e,"max","1"),de(e,"step","0.01"),e.value=r[0]},m(n,s){$t(n,e,s),r[4](e),t||(i=[Xe(e,"focusout",r[5]),Xe(e,"input",r[6])],t=!0)},p(n,[s]){s&1&&(e.value=n[0])},i:Ge,o:Ge,d(n){n&&Jt(e),r[4](null),t=!1,ei(i)}}}function si(r,e,t){let{currentVolume:i=1}=e,{show_volume_slider:n=!1}=e,{waveform:s}=e,o;ii(()=>{l()});const l=()=>{let h=o;h&&(h.style.background=`linear-gradient(to right, var(--color-accent) ${i*100}%, var(--neutral-400) ${i*100}%)`)};function u(h){Kt[h?"unshift":"push"](()=>{o=h,t(3,o)})}const d=()=>t(1,n=!1),a=h=>{h.target instanceof HTMLInputElement&&(t(0,i=parseFloat(h.target.value)),s?.setVolume(i))};return r.$$set=h=>{"currentVolume"in h&&t(0,i=h.currentVolume),"show_volume_slider"in h&&t(1,n=h.show_volume_slider),"waveform"in h&&t(2,s=h.waveform)},r.$$.update=()=>{r.$$.dirty&1&&l()},[i,n,s,o,u,d,a]}class ri extends Yt{constructor(e){super(),Zt(this,e,si,ni,ti,{currentVolume:0,show_volume_slider:1,waveform:2})}get currentVolume(){return this.$$.ctx[0]}set currentVolume(e){this.$$set({currentVolume:e}),Pe()}get show_volume_slider(){return this.$$.ctx[1]}set show_volume_slider(e){this.$$set({show_volume_slider:e}),Pe()}get waveform(){return this.$$.ctx[2]}set waveform(e){this.$$set({waveform:e}),Pe()}}const{SvelteComponent:oi,add_flush_callback:Ye,append:H,attr:M,bind:Ke,binding_callbacks:Je,check_outros:me,create_component:J,destroy_component:Q,detach:Z,element:B,empty:ai,flush:V,group_outros:ge,init:li,insert:$,listen:G,mount_component:ee,noop:pe,run_all:at,safe_not_equal:ui,set_data:di,set_style:Qe,space:K,text:Ze,toggle_class:$e,transition_in:A,transition_out:O}=window.__gradio__svelte__internal;function et(r){let e,t,i,n;function s(u){r[27](u)}function o(u){r[28](u)}let l={waveform:r[2]};return r[12]!==void 0&&(l.currentVolume=r[12]),r[1]!==void 0&&(l.show_volume_slider=r[1]),e=new ri({props:l}),Je.push(()=>Ke(e,"currentVolume",s)),Je.push(()=>Ke(e,"show_volume_slider",o)),{c(){J(e.$$.fragment)},m(u,d){ee(e,u,d),n=!0},p(u,d){const a={};d[0]&4&&(a.waveform=u[2]),!t&&d[0]&4096&&(t=!0,a.currentVolume=u[12],Ye(()=>t=!1)),!i&&d[0]&2&&(i=!0,a.show_volume_slider=u[1],Ye(()=>i=!1)),e.$set(a)},i(u){n||(A(e.$$.fragment,u),n=!0)},o(u){O(e.$$.fragment,u),n=!1},d(u){Q(e,u)}}}function hi(r){let e,t;return e=new mt({}),{c(){J(e.$$.fragment)},m(i,n){ee(e,i,n),t=!0},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){O(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function ci(r){let e,t;return e=new ft({}),{c(){J(e.$$.fragment)},m(i,n){ee(e,i,n),t=!0},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){O(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function tt(r){let e,t,i,n,s,o=r[6]&&r[0]===""&&it(r);const l=[mi,fi],u=[];function d(a,h){return a[0]===""?0:1}return t=d(r),i=u[t]=l[t](r),{c(){o&&o.c(),e=K(),i.c(),n=ai()},m(a,h){o&&o.m(a,h),$(a,e,h),u[t].m(a,h),$(a,n,h),s=!0},p(a,h){a[6]&&a[0]===""?o?(o.p(a,h),h[0]&65&&A(o,1)):(o=it(a),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(ge(),O(o,1,1,()=>{o=null}),me());let p=t;t=d(a),t===p?u[t].p(a,h):(ge(),O(u[p],1,1,()=>{u[p]=null}),me(),i=u[t],i?i.p(a,h):(i=u[t]=l[t](a),i.c()),A(i,1),i.m(n.parentNode,n))},i(a){s||(A(o),A(i),s=!0)},o(a){O(o),O(i),s=!1},d(a){a&&(Z(e),Z(n)),o&&o.d(a),u[t].d(a)}}}function it(r){let e,t,i,n,s;return t=new gt({}),{c(){e=B("button"),J(t.$$.fragment),M(e,"class","action icon svelte-ije4bl"),M(e,"aria-label","Reset audio")},m(o,l){$(o,e,l),ee(t,e,null),i=!0,n||(s=G(e,"click",r[33]),n=!0)},p:pe,i(o){i||(A(t.$$.fragment,o),i=!0)},o(o){O(t.$$.fragment,o),i=!1},d(o){o&&Z(e),Q(t),n=!1,s()}}}function fi(r){let e,t,i,n,s;return{c(){e=B("button"),e.textContent="Trim",t=K(),i=B("button"),i.textContent="Cancel",M(e,"class","text-button svelte-ije4bl"),M(i,"class","text-button svelte-ije4bl")},m(o,l){$(o,e,l),$(o,t,l),$(o,i,l),n||(s=[G(e,"click",r[14]),G(i,"click",r[16])],n=!0)},p:pe,i:pe,o:pe,d(o){o&&(Z(e),Z(t),Z(i)),n=!1,at(s)}}}function mi(r){let e,t,i,n,s;return t=new pt({}),{c(){e=B("button"),J(t.$$.fragment),M(e,"class","action icon svelte-ije4bl"),M(e,"aria-label","Trim audio to selection")},m(o,l){$(o,e,l),ee(t,e,null),i=!0,n||(s=G(e,"click",r[16]),n=!0)},p:pe,i(o){i||(A(t.$$.fragment,o),i=!0)},o(o){O(t.$$.fragment,o),i=!1},d(o){o&&Z(e),Q(t),n=!1,s()}}}function gi(r){let e,t,i,n,s,o,l,u,d,a,h,p,c,f,w,L,E,g,S,y,b,D,_,C,R,x,W,N,te,ie;n=new Gt({props:{currentVolume:r[12]}});let P=r[1]&&et(r);w=new ht({});const re=[ci,hi],I=[];function oe(k,z){return k[5]?0:1}S=oe(r),y=I[S]=re[S](r),C=new ct({});let T=r[10]&&r[7]&&tt(r);return{c(){e=B("div"),t=B("div"),i=B("button"),J(n.$$.fragment),s=K(),P&&P.c(),o=K(),l=B("button"),u=B("span"),d=Ze(r[11]),a=Ze("x"),p=K(),c=B("div"),f=B("button"),J(w.$$.fragment),E=K(),g=B("button"),y.c(),D=K(),_=B("button"),J(C.$$.fragment),x=K(),W=B("div"),T&&T.c(),M(i,"class","action icon volume svelte-ije4bl"),M(i,"aria-label","Adjust volume"),Qe(i,"color",r[1]?"var(--color-accent)":"var(--neutral-400)"),M(l,"class","playback icon svelte-ije4bl"),M(l,"aria-label",h=`Adjust playback speed to ${r[13][(r[13].indexOf(r[11])+1)%r[13].length]}x`),$e(l,"hidden",r[1]),M(t,"class","control-wrapper svelte-ije4bl"),M(f,"class","rewind icon svelte-ije4bl"),M(f,"aria-label",L=`Skip backwards by ${he(r[3],r[9].skip_length)} seconds`),M(g,"class","play-pause-button icon svelte-ije4bl"),M(g,"aria-label",b=r[5]?r[4]("audio.pause"):r[4]("audio.play")),M(_,"class","skip icon svelte-ije4bl"),M(_,"aria-label",R="Skip forward by "+he(r[3],r[9].skip_length)+" seconds"),M(c,"class","play-pause-wrapper svelte-ije4bl"),M(W,"class","settings-wrapper svelte-ije4bl"),M(e,"class","controls svelte-ije4bl"),M(e,"data-testid","waveform-controls")},m(k,z){$(k,e,z),H(e,t),H(t,i),ee(n,i,null),H(t,s),P&&P.m(t,null),H(t,o),H(t,l),H(l,u),H(u,d),H(u,a),H(e,p),H(e,c),H(c,f),ee(w,f,null),H(c,E),H(c,g),I[S].m(g,null),H(c,D),H(c,_),ee(C,_,null),H(e,x),H(e,W),T&&T.m(W,null),N=!0,te||(ie=[G(i,"click",r[26]),G(l,"click",r[29]),G(f,"click",r[30]),G(g,"click",r[31]),G(_,"click",r[32])],te=!0)},p(k,z){const ae={};z[0]&4096&&(ae.currentVolume=k[12]),n.$set(ae),z[0]&2&&Qe(i,"color",k[1]?"var(--color-accent)":"var(--neutral-400)"),k[1]?P?(P.p(k,z),z[0]&2&&A(P,1)):(P=et(k),P.c(),A(P,1),P.m(t,o)):P&&(ge(),O(P,1,1,()=>{P=null}),me()),(!N||z[0]&2048)&&di(d,k[11]),(!N||z[0]&2048&&h!==(h=`Adjust playback speed to ${k[13][(k[13].indexOf(k[11])+1)%k[13].length]}x`))&&M(l,"aria-label",h),(!N||z[0]&2)&&$e(l,"hidden",k[1]),(!N||z[0]&520&&L!==(L=`Skip backwards by ${he(k[3],k[9].skip_length)} seconds`))&&M(f,"aria-label",L);let v=S;S=oe(k),S!==v&&(ge(),O(I[v],1,1,()=>{I[v]=null}),me(),y=I[S],y||(y=I[S]=re[S](k),y.c()),A(y,1),y.m(g,null)),(!N||z[0]&48&&b!==(b=k[5]?k[4]("audio.pause"):k[4]("audio.play")))&&M(g,"aria-label",b),(!N||z[0]&520&&R!==(R="Skip forward by "+he(k[3],k[9].skip_length)+" seconds"))&&M(_,"aria-label",R),k[10]&&k[7]?T?(T.p(k,z),z[0]&1152&&A(T,1)):(T=tt(k),T.c(),A(T,1),T.m(W,null)):T&&(ge(),O(T,1,1,()=>{T=null}),me())},i(k){N||(A(n.$$.fragment,k),A(P),A(w.$$.fragment,k),A(y),A(C.$$.fragment,k),A(T),N=!0)},o(k){O(n.$$.fragment,k),O(P),O(w.$$.fragment,k),O(y),O(C.$$.fragment,k),O(T),N=!1},d(k){k&&Z(e),Q(n),P&&P.d(),Q(w),I[S].d(),Q(C),T&&T.d(),te=!1,at(ie)}}}function pi(r,e,t){let{waveform:i}=e,{audio_duration:n}=e,{i18n:s}=e,{playing:o}=e,{show_redo:l=!1}=e,{interactive:u=!1}=e,{handle_trim_audio:d}=e,{mode:a=""}=e,{container:h}=e,{handle_reset_value:p}=e,{waveform_options:c={}}=e,{trim_region_settings:f={}}=e,{show_volume_slider:w=!1}=e,{editable:L=!0}=e,{trimDuration:E=0}=e,g=[.5,1,1.5,2],S=g[1],y=null,b=null,D,_,C="",R=1;const x=()=>{y&&(t(22,b=y?.addRegion({start:n/4,end:n/2,...f})),t(17,E=b.end-b.start))},W=()=>{if(i&&y&&b){const v=b.start,Y=b.end;d(v,Y),t(0,a=""),t(22,b=null)}},N=()=>{y?.getRegions().forEach(v=>{v.remove()}),y?.clearRegions()},te=()=>{N(),a==="edit"?t(0,a=""):(t(0,a="edit"),x())},ie=(v,Y)=>{let ne,m;b&&(v==="left"?Y==="ArrowLeft"?(ne=b.start-.05,m=b.end):(ne=b.start+.05,m=b.end):Y==="ArrowLeft"?(ne=b.start,m=b.end-.05):(ne=b.start,m=b.end+.05),b.setOptions({start:ne,end:m}),t(17,E=b.end-b.start))},P=()=>t(1,w=!w);function re(v){R=v,t(12,R)}function I(v){w=v,t(1,w)}const oe=()=>{t(11,S=g[(g.indexOf(S)+1)%g.length]),i?.setPlaybackRate(S)},T=()=>i?.skip(he(n,c.skip_length)*-1),k=()=>i?.playPause(),z=()=>i?.skip(he(n,c.skip_length)),ae=()=>{p(),N(),t(0,a="")};return r.$$set=v=>{"waveform"in v&&t(2,i=v.waveform),"audio_duration"in v&&t(3,n=v.audio_duration),"i18n"in v&&t(4,s=v.i18n),"playing"in v&&t(5,o=v.playing),"show_redo"in v&&t(6,l=v.show_redo),"interactive"in v&&t(7,u=v.interactive),"handle_trim_audio"in v&&t(18,d=v.handle_trim_audio),"mode"in v&&t(0,a=v.mode),"container"in v&&t(19,h=v.container),"handle_reset_value"in v&&t(8,p=v.handle_reset_value),"waveform_options"in v&&t(9,c=v.waveform_options),"trim_region_settings"in v&&t(20,f=v.trim_region_settings),"show_volume_slider"in v&&t(1,w=v.show_volume_slider),"editable"in v&&t(10,L=v.editable),"trimDuration"in v&&t(17,E=v.trimDuration)},r.$$.update=()=>{if(r.$$.dirty[0]&524292&&t(21,y=h&&i?i.registerPlugin(Oe.create()):null),r.$$.dirty[0]&2097152&&y?.on("region-out",v=>{v.play()}),r.$$.dirty[0]&2097152&&y?.on("region-updated",v=>{t(17,E=v.end-v.start)}),r.$$.dirty[0]&2097152&&y?.on("region-clicked",(v,Y)=>{Y.stopPropagation(),t(22,b=v),v.play()}),r.$$.dirty[0]&31981568&&b){const v=h.children[0].shadowRoot;t(24,_=v.querySelector('[data-resize="right"]')),t(23,D=v.querySelector('[data-resize="left"]')),D&&_&&(D.setAttribute("role","button"),_.setAttribute("role","button"),D?.setAttribute("aria-label","Drag to adjust start time"),_?.setAttribute("aria-label","Drag to adjust end time"),D?.setAttribute("tabindex","0"),_?.setAttribute("tabindex","0"),D.addEventListener("focus",()=>{y&&t(25,C="left")}),_.addEventListener("focus",()=>{y&&t(25,C="right")}))}r.$$.dirty[0]&35651584&&y&&window.addEventListener("keydown",v=>{v.key==="ArrowLeft"?ie(C,"ArrowLeft"):v.key==="ArrowRight"&&ie(C,"ArrowRight")})},[a,w,i,n,s,o,l,u,p,c,L,S,R,g,W,N,te,E,d,h,f,y,b,D,_,C,P,re,I,oe,T,k,z,ae]}class _i extends oi{constructor(e){super(),li(this,e,pi,gi,ui,{waveform:2,audio_duration:3,i18n:4,playing:5,show_redo:6,interactive:7,handle_trim_audio:18,mode:0,container:19,handle_reset_value:8,waveform_options:9,trim_region_settings:20,show_volume_slider:1,editable:10,trimDuration:17},null,[-1,-1])}get waveform(){return this.$$.ctx[2]}set waveform(e){this.$$set({waveform:e}),V()}get audio_duration(){return this.$$.ctx[3]}set audio_duration(e){this.$$set({audio_duration:e}),V()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),V()}get playing(){return this.$$.ctx[5]}set playing(e){this.$$set({playing:e}),V()}get show_redo(){return this.$$.ctx[6]}set show_redo(e){this.$$set({show_redo:e}),V()}get interactive(){return this.$$.ctx[7]}set interactive(e){this.$$set({interactive:e}),V()}get handle_trim_audio(){return this.$$.ctx[18]}set handle_trim_audio(e){this.$$set({handle_trim_audio:e}),V()}get mode(){return this.$$.ctx[0]}set mode(e){this.$$set({mode:e}),V()}get container(){return this.$$.ctx[19]}set container(e){this.$$set({container:e}),V()}get handle_reset_value(){return this.$$.ctx[8]}set handle_reset_value(e){this.$$set({handle_reset_value:e}),V()}get waveform_options(){return this.$$.ctx[9]}set waveform_options(e){this.$$set({waveform_options:e}),V()}get trim_region_settings(){return this.$$.ctx[20]}set trim_region_settings(e){this.$$set({trim_region_settings:e}),V()}get show_volume_slider(){return this.$$.ctx[1]}set show_volume_slider(e){this.$$set({show_volume_slider:e}),V()}get editable(){return this.$$.ctx[10]}set editable(e){this.$$set({editable:e}),V()}get trimDuration(){return this.$$.ctx[17]}set trimDuration(e){this.$$set({trimDuration:e}),V()}}const{SvelteComponent:vi,add_flush_callback:Te,append:F,attr:j,bind:Ae,binding_callbacks:se,bubble:bi,check_outros:wi,create_component:je,destroy_component:Be,detach:_e,element:X,empty:yi,flush:q,group_outros:ki,init:Ci,insert:ve,listen:We,mount_component:xe,run_all:Ei,safe_not_equal:Ri,set_data:Li,set_style:nt,space:fe,text:Si,toggle_class:st,transition_in:ye,transition_out:ke}=window.__gradio__svelte__internal,{onMount:Di}=window.__gradio__svelte__internal,{createEventDispatcher:Mi}=window.__gradio__svelte__internal;function Pi(r){let e,t,i,n,s,o,l,u,d,a,h,p,c,f,w,L,E,g=r[0]==="edit"&&r[18]>0&&rt(r);function S(_){r[32](_)}function y(_){r[33](_)}function b(_){r[34](_)}let D={container:r[10],waveform:r[11],playing:r[14],audio_duration:r[17],i18n:r[3],interactive:r[4],handle_trim_audio:r[21],show_redo:r[4],handle_reset_value:r[9],waveform_options:r[8],trim_region_settings:r[6],editable:r[5]};return r[0]!==void 0&&(D.mode=r[0]),r[18]!==void 0&&(D.trimDuration=r[18]),r[19]!==void 0&&(D.show_volume_slider=r[19]),p=new _i({props:D}),se.push(()=>Ae(p,"mode",S)),se.push(()=>Ae(p,"trimDuration",y)),se.push(()=>Ae(p,"show_volume_slider",b)),{c(){e=X("div"),t=X("div"),i=X("div"),n=fe(),s=X("div"),o=X("time"),o.textContent="0:00",l=fe(),u=X("div"),g&&g.c(),d=fe(),a=X("time"),a.textContent="0:00",h=fe(),je(p.$$.fragment),j(i,"id","waveform"),j(i,"class","svelte-19usgod"),nt(i,"height",r[10]?null:"58px"),j(t,"class","waveform-container svelte-19usgod"),j(o,"id","time"),j(o,"class","svelte-19usgod"),j(a,"id","duration"),j(a,"class","svelte-19usgod"),j(s,"class","timestamps svelte-19usgod"),j(e,"class","component-wrapper svelte-19usgod"),j(e,"data-testid",L=r[2]?"waveform-"+r[2]:"unlabelled-audio")},m(_,C){ve(_,e,C),F(e,t),F(t,i),r[29](i),F(e,n),F(e,s),F(s,o),r[30](o),F(s,l),F(s,u),g&&g.m(u,null),F(u,d),F(u,a),r[31](a),F(e,h),xe(p,e,null),E=!0},p(_,C){C[0]&1024&&nt(i,"height",_[10]?null:"58px"),_[0]==="edit"&&_[18]>0?g?g.p(_,C):(g=rt(_),g.c(),g.m(u,d)):g&&(g.d(1),g=null);const R={};C[0]&1024&&(R.container=_[10]),C[0]&2048&&(R.waveform=_[11]),C[0]&16384&&(R.playing=_[14]),C[0]&131072&&(R.audio_duration=_[17]),C[0]&8&&(R.i18n=_[3]),C[0]&16&&(R.interactive=_[4]),C[0]&16&&(R.show_redo=_[4]),C[0]&512&&(R.handle_reset_value=_[9]),C[0]&256&&(R.waveform_options=_[8]),C[0]&64&&(R.trim_region_settings=_[6]),C[0]&32&&(R.editable=_[5]),!c&&C[0]&1&&(c=!0,R.mode=_[0],Te(()=>c=!1)),!f&&C[0]&262144&&(f=!0,R.trimDuration=_[18],Te(()=>f=!1)),!w&&C[0]&524288&&(w=!0,R.show_volume_slider=_[19],Te(()=>w=!1)),p.$set(R),(!E||C[0]&4&&L!==(L=_[2]?"waveform-"+_[2]:"unlabelled-audio"))&&j(e,"data-testid",L)},i(_){E||(ye(p.$$.fragment,_),E=!0)},o(_){ke(p.$$.fragment,_),E=!1},d(_){_&&_e(e),r[29](null),r[30](null),g&&g.d(),r[31](null),Be(p)}}}function Ti(r){let e,t;return e=new _t({props:{size:"small",$$slots:{default:[Ai]},$$scope:{ctx:r}}}),{c(){je(e.$$.fragment)},m(i,n){xe(e,i,n),t=!0},p(i,n){const s={};n[1]&256&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||(ye(e.$$.fragment,i),t=!0)},o(i){ke(e.$$.fragment,i),t=!1},d(i){Be(e,i)}}}function rt(r){let e,t=Re(r[18])+"",i;return{c(){e=X("time"),i=Si(t),j(e,"id","trim-duration"),j(e,"class","svelte-19usgod")},m(n,s){ve(n,e,s),F(e,i)},p(n,s){s[0]&262144&&t!==(t=Re(n[18])+"")&&Li(i,t)},d(n){n&&_e(e)}}}function Ai(r){let e,t;return e=new vt({}),{c(){je(e.$$.fragment)},m(i,n){xe(e,i,n),t=!0},i(i){t||(ye(e.$$.fragment,i),t=!0)},o(i){ke(e.$$.fragment,i),t=!1},d(i){Be(e,i)}}}function Wi(r){let e,t,i,n,s,o,l,u,d;const a=[Ti,Pi],h=[];function p(c,f){return c[1]===null?0:c[13]?1:-1}return~(n=p(r))&&(s=h[n]=a[n](r)),{c(){e=X("audio"),i=fe(),s&&s.c(),o=yi(),j(e,"class","standard-player svelte-19usgod"),e.controls=!0,e.autoplay=t=r[7].autoplay,st(e,"hidden",r[13])},m(c,f){ve(c,e,f),r[26](e),ve(c,i,f),~n&&h[n].m(c,f),ve(c,o,f),l=!0,u||(d=[We(e,"load",r[25]),We(e,"ended",r[27]),We(e,"play",r[28])],u=!0)},p(c,f){(!l||f[0]&128&&t!==(t=c[7].autoplay))&&(e.autoplay=t),(!l||f[0]&8192)&&st(e,"hidden",c[13]);let w=n;n=p(c),n===w?~n&&h[n].p(c,f):(s&&(ki(),ke(h[w],1,1,()=>{h[w]=null}),wi()),~n?(s=h[n],s?s.p(c,f):(s=h[n]=a[n](c),s.c()),ye(s,1),s.m(o.parentNode,o)):s=null)},i(c){l||(ye(s),l=!0)},o(c){ke(s),l=!1},d(c){c&&(_e(e),_e(i),_e(o)),r[26](null),~n&&h[n].d(c),u=!1,Ei(d)}}}function zi(r,e,t){let i,n,{value:s=null}=e,{label:o}=e,{i18n:l}=e,{dispatch_blob:u=()=>Promise.resolve()}=e,{interactive:d=!1}=e,{editable:a=!0}=e,{trim_region_settings:h={}}=e,{waveform_settings:p}=e,{waveform_options:c}=e,{mode:f=""}=e,{loop:w}=e,{handle_reset_value:L=()=>{}}=e,E,g,S=!1,y,b,D,_=0,C=!1,R,x=!1;const W=Mi(),N=()=>{t(11,g=ze.create({container:E,...p})),Ue(s?.url).then(m=>{if(m&&g)return g.load(m)}),g?.on("decode",m=>{t(17,D=m),b&&t(16,b.textContent=Re(m),b)}),g?.on("timeupdate",m=>y&&t(15,y.textContent=Re(m),y)),g?.on("ready",()=>{p.autoplay?g?.play():g?.stop()}),g?.on("finish",()=>{w?g?.play():(t(14,S=!1),W("stop"))}),g?.on("pause",()=>{t(14,S=!1),W("pause")}),g?.on("play",()=>{t(14,S=!0),W("play")}),g?.on("load",()=>{W("load")})},te=async(m,U)=>{t(0,f="");const Ce=g?.getDecodedData();Ce&&await Tt(Ce,m,U,p.sampleRate).then(async ce=>{await u([ce],"change"),g?.destroy(),t(10,E.innerHTML="",E)}),W("edit")};async function ie(m){x=!1,await Ue(m).then(U=>{!U||s?.is_stream||(c.show_recording_waveform?g?.load(U):R&&t(12,R.src=U,R))})}function P(m){if(!(!m||!m.is_stream||!m.url))if(le.isSupported()&&!x){const U=new le({maxBufferLength:1,maxMaxBufferLength:1,lowLatencyMode:!0});U.loadSource(m.url),U.attachMedia(R),U.on(le.Events.MANIFEST_PARSED,function(){p.autoplay&&R.play()}),U.on(le.Events.ERROR,function(Ce,ce){if(console.error("HLS error:",Ce,ce),ce.fatal)switch(ce.type){case le.ErrorTypes.NETWORK_ERROR:console.error("Fatal network error encountered, trying to recover"),U.startLoad();break;case le.ErrorTypes.MEDIA_ERROR:console.error("Fatal media error encountered, trying to recover"),U.recoverMediaError();break;default:console.error("Fatal error, cannot recover"),U.destroy();break}}),x=!0}else x||(t(12,R.src=m.url,R),p.autoplay&&R.play(),x=!0)}Di(()=>{window.addEventListener("keydown",m=>{!g||C||(m.key==="ArrowRight"&&f!=="edit"?Ie(g,.1):m.key==="ArrowLeft"&&f!=="edit"&&Ie(g,-.1))})});function re(m){bi.call(this,r,m)}function I(m){se[m?"unshift":"push"](()=>{R=m,t(12,R)})}const oe=()=>W("stop"),T=()=>W("play");function k(m){se[m?"unshift":"push"](()=>{E=m,t(10,E),t(13,n),t(11,g),t(8,c),t(1,s)})}function z(m){se[m?"unshift":"push"](()=>{y=m,t(15,y)})}function ae(m){se[m?"unshift":"push"](()=>{b=m,t(16,b)})}function v(m){f=m,t(0,f)}function Y(m){_=m,t(18,_)}function ne(m){C=m,t(19,C)}return r.$$set=m=>{"value"in m&&t(1,s=m.value),"label"in m&&t(2,o=m.label),"i18n"in m&&t(3,l=m.i18n),"dispatch_blob"in m&&t(22,u=m.dispatch_blob),"interactive"in m&&t(4,d=m.interactive),"editable"in m&&t(5,a=m.editable),"trim_region_settings"in m&&t(6,h=m.trim_region_settings),"waveform_settings"in m&&t(7,p=m.waveform_settings),"waveform_options"in m&&t(8,c=m.waveform_options),"mode"in m&&t(0,f=m.mode),"loop"in m&&t(23,w=m.loop),"handle_reset_value"in m&&t(9,L=m.handle_reset_value)},r.$$.update=()=>{r.$$.dirty[0]&2&&t(24,i=s?.url),r.$$.dirty[0]&258&&t(13,n=c.show_recording_waveform&&!s?.is_stream),r.$$.dirty[0]&11264&&n&&E!==void 0&&E!==null&&(g!==void 0&&g.destroy(),t(10,E.innerHTML="",E),N(),t(14,S=!1)),r.$$.dirty[0]&16777216&&i&&ie(i),r.$$.dirty[0]&4098&&R&&s?.is_stream&&P(s)},[f,s,o,l,d,a,h,p,c,L,E,g,R,n,S,y,b,D,_,C,W,te,u,w,i,re,I,oe,T,k,z,ae,v,Y,ne]}class ji extends vi{constructor(e){super(),Ci(this,e,zi,Wi,Ri,{value:1,label:2,i18n:3,dispatch_blob:22,interactive:4,editable:5,trim_region_settings:6,waveform_settings:7,waveform_options:8,mode:0,loop:23,handle_reset_value:9},null,[-1,-1])}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),q()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),q()}get i18n(){return this.$$.ctx[3]}set i18n(e){this.$$set({i18n:e}),q()}get dispatch_blob(){return this.$$.ctx[22]}set dispatch_blob(e){this.$$set({dispatch_blob:e}),q()}get interactive(){return this.$$.ctx[4]}set interactive(e){this.$$set({interactive:e}),q()}get editable(){return this.$$.ctx[5]}set editable(e){this.$$set({editable:e}),q()}get trim_region_settings(){return this.$$.ctx[6]}set trim_region_settings(e){this.$$set({trim_region_settings:e}),q()}get waveform_settings(){return this.$$.ctx[7]}set waveform_settings(e){this.$$set({waveform_settings:e}),q()}get waveform_options(){return this.$$.ctx[8]}set waveform_options(e){this.$$set({waveform_options:e}),q()}get mode(){return this.$$.ctx[0]}set mode(e){this.$$set({mode:e}),q()}get loop(){return this.$$.ctx[23]}set loop(e){this.$$set({loop:e}),q()}get handle_reset_value(){return this.$$.ctx[9]}set handle_reset_value(e){this.$$set({handle_reset_value:e}),q()}}export{ji as A,_i as W,ze as a,Tt as p,Ie as s};
//# sourceMappingURL=AudioPlayer-DFccPGBE.js.map
