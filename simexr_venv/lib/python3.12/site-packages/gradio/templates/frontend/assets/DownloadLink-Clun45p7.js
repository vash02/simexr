const{setContext:A,getContext:I}=window.__gradio__svelte__internal,P="WORKER_PROXY_CONTEXT_KEY";function se(n){A(P,n)}function q(){return I(P)}const M="lite.local";function V(n){return n.host===window.location.host||n.host==="localhost:7860"||n.host==="127.0.0.1:7860"||n.host===M}function j(n,e){const t=e.toLowerCase();for(const[o,s]of Object.entries(n))if(o.toLowerCase()===t)return s}function N(n){const e=typeof window<"u";if(n==null||!e)return!1;const t=new URL(n,window.location.href);return!(!V(t)||t.protocol!=="http:"&&t.protocol!=="https:")}let w;async function ie(n){const e=typeof window<"u";if(n==null||!e||!N(n))return n;if(w==null)try{w=q()}catch{return n}if(w==null)return n;const o=new URL(n,window.location.href).pathname;return w.httpRequest({method:"GET",path:o,headers:{},query_string:""}).then(s=>{if(s.status!==200)throw new Error(`Failed to get file ${o} from the Wasm worker.`);const a=new Blob([s.body],{type:j(s.headers,"content-type")});return URL.createObjectURL(a)})}const{SvelteComponent:z,assign:b,check_outros:X,compute_rest_props:T,create_slot:R,detach:k,element:Y,empty:D,exclude_internal_props:J,flush:W,get_all_dirty_from_scope:E,get_slot_changes:L,get_spread_update:F,group_outros:B,init:Q,insert:g,listen:G,prevent_default:Z,safe_not_equal:$,set_attributes:p,set_style:K,toggle_class:m,transition_in:d,transition_out:h,update_slot_base:U}=window.__gradio__svelte__internal,{createEventDispatcher:x,onMount:fe}=window.__gradio__svelte__internal;function ee(n){let e,t,o,s,a;const f=n[8].default,i=R(f,n,n[7],null);let u=[{class:"download-link"},{href:n[0]},{target:t=typeof window<"u"&&window.__is_colab__?"_blank":null},{rel:"noopener noreferrer"},{download:n[1]},n[6]],l={};for(let r=0;r<u.length;r+=1)l=b(l,u[r]);return{c(){e=Y("a"),i&&i.c(),p(e,l),K(e,"position","relative"),m(e,"svelte-1s8vnbx",!0)},m(r,_){g(r,e,_),i&&i.m(e,null),o=!0,s||(a=G(e,"click",n[3].bind(null,"click")),s=!0)},p(r,_){i&&i.p&&(!o||_&128)&&U(i,f,r,r[7],o?L(f,r[7],_,null):E(r[7]),null),p(e,l=F(u,[{class:"download-link"},(!o||_&1)&&{href:r[0]},{target:t},{rel:"noopener noreferrer"},(!o||_&2)&&{download:r[1]},_&64&&r[6]])),K(e,"position","relative"),m(e,"svelte-1s8vnbx",!0)},i(r){o||(d(i,r),o=!0)},o(r){h(i,r),o=!1},d(r){r&&k(e),i&&i.d(r),s=!1,a()}}}function te(n){let e,t,o,s;const a=[le,oe],f=[];function i(u,l){return u[2]?0:1}return e=i(n),t=f[e]=a[e](n),{c(){t.c(),o=D()},m(u,l){f[e].m(u,l),g(u,o,l),s=!0},p(u,l){let r=e;e=i(u),e===r?f[e].p(u,l):(B(),h(f[r],1,1,()=>{f[r]=null}),X(),t=f[e],t?t.p(u,l):(t=f[e]=a[e](u),t.c()),d(t,1),t.m(o.parentNode,o))},i(u){s||(d(t),s=!0)},o(u){h(t),s=!1},d(u){u&&k(o),f[e].d(u)}}}function oe(n){let e,t,o,s;const a=n[8].default,f=R(a,n,n[7],null);let i=[n[6],{href:n[0]}],u={};for(let l=0;l<i.length;l+=1)u=b(u,i[l]);return{c(){e=Y("a"),f&&f.c(),p(e,u),m(e,"svelte-1s8vnbx",!0)},m(l,r){g(l,e,r),f&&f.m(e,null),t=!0,o||(s=G(e,"click",Z(n[5])),o=!0)},p(l,r){f&&f.p&&(!t||r&128)&&U(f,a,l,l[7],t?L(a,l[7],r,null):E(l[7]),null),p(e,u=F(i,[r&64&&l[6],(!t||r&1)&&{href:l[0]}])),m(e,"svelte-1s8vnbx",!0)},i(l){t||(d(f,l),t=!0)},o(l){h(f,l),t=!1},d(l){l&&k(e),f&&f.d(l),o=!1,s()}}}function le(n){let e;const t=n[8].default,o=R(t,n,n[7],null);return{c(){o&&o.c()},m(s,a){o&&o.m(s,a),e=!0},p(s,a){o&&o.p&&(!e||a&128)&&U(o,t,s,s[7],e?L(t,s[7],a,null):E(s[7]),null)},i(s){e||(d(o,s),e=!0)},o(s){h(o,s),e=!1},d(s){o&&o.d(s)}}}function ne(n){let e,t,o,s,a;const f=[te,ee],i=[];function u(l,r){return r&1&&(e=null),e==null&&(e=!!(l[4]&&N(l[0]))),e?0:1}return t=u(n,-1),o=i[t]=f[t](n),{c(){o.c(),s=D()},m(l,r){i[t].m(l,r),g(l,s,r),a=!0},p(l,[r]){let _=t;t=u(l,r),t===_?i[t].p(l,r):(B(),h(i[_],1,1,()=>{i[_]=null}),X(),o=i[t],o?o.p(l,r):(o=i[t]=f[t](l),o.c()),d(o,1),o.m(s.parentNode,s))},i(l){a||(d(o),a=!0)},o(l){h(o),a=!1},d(l){l&&k(s),i[t].d(l)}}}function re(n,e,t){const o=["href","download"];let s=T(e,o),{$$slots:a={},$$scope:f}=e,{href:i=void 0}=e,{download:u}=e;const l=x();let r=!1;const _=q();async function H(){if(r)return;if(l("click"),i==null)throw new Error("href is not defined.");if(_==null)throw new Error("Wasm worker proxy is not available.");const O=new URL(i,window.location.href).pathname;t(2,r=!0),_.httpRequest({method:"GET",path:O,headers:{},query_string:""}).then(v=>{if(v.status!==200)throw new Error(`Failed to get file ${O} from the Wasm worker.`);const S=new Blob([v.body],{type:j(v.headers,"content-type")}),C=URL.createObjectURL(S),y=document.createElement("a");y.href=C,y.download=u,y.click(),URL.revokeObjectURL(C)}).finally(()=>{t(2,r=!1)})}return n.$$set=c=>{e=b(b({},e),J(c)),t(6,s=T(e,o)),"href"in c&&t(0,i=c.href),"download"in c&&t(1,u=c.download),"$$scope"in c&&t(7,f=c.$$scope)},[i,u,r,l,_,H,s,f,a]}class ue extends z{constructor(e){super(),Q(this,e,re,ne,$,{href:0,download:1})}get href(){return this.$$.ctx[0]}set href(e){this.$$set({href:e}),W()}get download(){return this.$$.ctx[1]}set download(e){this.$$set({download:e}),W()}}export{ue as D,q as g,ie as r,se as s};
//# sourceMappingURL=DownloadLink-Clun45p7.js.map
