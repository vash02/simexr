import{u as qt,w as Lt,v as Mt,x as zt,y as Fe}from"./i18n-Dub1g69U.js";import{a as St,j as Vt,Y as jt,Z as Nt,_ as Tt,$ as At}from"./FullscreenButton-CY3DenSN.js";import{A as Pt}from"./MarkdownCode-B_oSAavQ.js";const lt=typeof window<"u";let Ce=lt?()=>window.performance.now():()=>Date.now(),it=lt?l=>requestAnimationFrame(l):qt;const te=new Set;function st(l){te.forEach(e=>{e.c(l)||(te.delete(e),e.f())}),te.size!==0&&it(st)}function Zt(l){let e;return te.size===0&&it(st),{promise:new Promise(t=>{te.add(e={c:l,f:t})}),abort(){te.delete(e)}}}function ee(l){let e=["","k","M","G","T","P","E","Z"],t=0;for(;l>1e3&&t<e.length-1;)l/=1e3,t++;let n=e[t];return(Number.isInteger(l)?l:l.toFixed(1))+n}function qe(l){return Object.prototype.toString.call(l)==="[object Date]"}function he(l,e,t,n){if(typeof t=="number"||qe(t)){const i=n-t,r=(t-e)/(l.dt||1/60),o=l.opts.stiffness*i,s=l.opts.damping*r,f=(o-s)*l.inv_mass,a=(r+f)*l.dt;return Math.abs(a)<l.opts.precision&&Math.abs(i)<l.opts.precision?n:(l.settled=!1,qe(t)?new Date(t.getTime()+a):t+a)}else{if(Array.isArray(t))return t.map((i,r)=>he(l,e[r],t[r],n[r]));if(typeof t=="object"){const i={};for(const r in t)i[r]=he(l,e[r],t[r],n[r]);return i}else throw new Error(`Cannot spring ${typeof t} values`)}}function Le(l,e={}){const t=Lt(l),{stiffness:n=.15,damping:i=.8,precision:r=.01}=e;let o,s,f,a=l,u=l,_=1,d=0,m=!1;function b(k,F={}){u=k;const C=f={};return l==null||F.hard||w.stiffness>=1&&w.damping>=1?(m=!0,o=Ce(),a=k,t.set(l=u),Promise.resolve()):(F.soft&&(d=1/((F.soft===!0?.5:+F.soft)*60),_=0),s||(o=Ce(),m=!1,s=Zt(c=>{if(m)return m=!1,s=null,!1;_=Math.min(_+d,1);const y={inv_mass:_,opts:w,settled:!0,dt:(c-o)*60/1e3},j=he(y,a,l,u);return o=c,a=l,t.set(l=j),y.settled&&(s=null),!y.settled})),new Promise(c=>{s.promise.then(()=>{C===f&&c()})}))}const w={set:b,update:(k,F)=>b(k(u,l),F),subscribe:t.subscribe,stiffness:n,damping:i,precision:r};return w}function ve(l){const e=l-1;return e*e*e+1}const{SvelteComponent:Dt,append:Z,attr:$,component_subscribe:Me,detach:Et,element:It,flush:Bt,init:Ut,insert:Ht,noop:ze,safe_not_equal:Ot,set_style:ae,svg_element:D,toggle_class:Se}=window.__gradio__svelte__internal,{onMount:Rt}=window.__gradio__svelte__internal;function Wt(l){let e,t,n,i,r,o,s,f,a,u,_,d;return{c(){e=It("div"),t=D("svg"),n=D("g"),i=D("path"),r=D("path"),o=D("path"),s=D("path"),f=D("g"),a=D("path"),u=D("path"),_=D("path"),d=D("path"),$(i,"d","M255.926 0.754768L509.702 139.936V221.027L255.926 81.8465V0.754768Z"),$(i,"fill","#FF7C00"),$(i,"fill-opacity","0.4"),$(i,"class","svelte-zyxd38"),$(r,"d","M509.69 139.936L254.981 279.641V361.255L509.69 221.55V139.936Z"),$(r,"fill","#FF7C00"),$(r,"class","svelte-zyxd38"),$(o,"d","M0.250138 139.937L254.981 279.641V361.255L0.250138 221.55V139.937Z"),$(o,"fill","#FF7C00"),$(o,"fill-opacity","0.4"),$(o,"class","svelte-zyxd38"),$(s,"d","M255.923 0.232622L0.236328 139.936V221.55L255.923 81.8469V0.232622Z"),$(s,"fill","#FF7C00"),$(s,"class","svelte-zyxd38"),ae(n,"transform","translate("+l[1][0]+"px, "+l[1][1]+"px)"),$(a,"d","M255.926 141.5L509.702 280.681V361.773L255.926 222.592V141.5Z"),$(a,"fill","#FF7C00"),$(a,"fill-opacity","0.4"),$(a,"class","svelte-zyxd38"),$(u,"d","M509.69 280.679L254.981 420.384V501.998L509.69 362.293V280.679Z"),$(u,"fill","#FF7C00"),$(u,"class","svelte-zyxd38"),$(_,"d","M0.250138 280.681L254.981 420.386V502L0.250138 362.295V280.681Z"),$(_,"fill","#FF7C00"),$(_,"fill-opacity","0.4"),$(_,"class","svelte-zyxd38"),$(d,"d","M255.923 140.977L0.236328 280.68V362.294L255.923 222.591V140.977Z"),$(d,"fill","#FF7C00"),$(d,"class","svelte-zyxd38"),ae(f,"transform","translate("+l[2][0]+"px, "+l[2][1]+"px)"),$(t,"viewBox","-1200 -1200 3000 3000"),$(t,"fill","none"),$(t,"xmlns","http://www.w3.org/2000/svg"),$(t,"class","svelte-zyxd38"),$(e,"class","svelte-zyxd38"),Se(e,"margin",l[0])},m(m,b){Ht(m,e,b),Z(e,t),Z(t,n),Z(n,i),Z(n,r),Z(n,o),Z(n,s),Z(t,f),Z(f,a),Z(f,u),Z(f,_),Z(f,d)},p(m,[b]){b&2&&ae(n,"transform","translate("+m[1][0]+"px, "+m[1][1]+"px)"),b&4&&ae(f,"transform","translate("+m[2][0]+"px, "+m[2][1]+"px)"),b&1&&Se(e,"margin",m[0])},i:ze,o:ze,d(m){m&&Et(e)}}}function Yt(l,e,t){let n,i,{margin:r=!0}=e;const o=Le([0,0]);Me(l,o,d=>t(1,n=d));const s=Le([0,0]);Me(l,s,d=>t(2,i=d));let f;async function a(){await Promise.all([o.set([125,140]),s.set([-125,-140])]),await Promise.all([o.set([-125,140]),s.set([125,-140])]),await Promise.all([o.set([-125,0]),s.set([125,-0])]),await Promise.all([o.set([125,0]),s.set([-125,0])])}async function u(){await a(),f||u()}async function _(){await Promise.all([o.set([125,0]),s.set([-125,0])]),u()}return Rt(()=>(_(),()=>f=!0)),l.$$set=d=>{"margin"in d&&t(0,r=d.margin)},[r,n,i,o,s]}class Xt extends Dt{constructor(e){super(),Ut(this,e,Yt,Wt,Ot,{margin:0})}get margin(){return this.$$.ctx[0]}set margin(e){this.$$set({margin:e}),Bt()}}const{SvelteComponent:Gt,append:Q,attr:I,binding_callbacks:Ve,check_outros:be,create_component:ot,create_slot:rt,destroy_component:at,destroy_each:ft,detach:g,element:R,empty:ie,ensure_array_like:_e,flush:S,get_all_dirty_from_scope:ut,get_slot_changes:_t,group_outros:we,init:Jt,insert:h,mount_component:ct,noop:ke,safe_not_equal:Kt,set_data:P,set_style:K,space:A,text:L,toggle_class:T,transition_in:E,transition_out:W,update_slot_base:dt}=window.__gradio__svelte__internal,{tick:Qt}=window.__gradio__svelte__internal,{onDestroy:xt}=window.__gradio__svelte__internal,{createEventDispatcher:en}=window.__gradio__svelte__internal,tn=l=>({}),je=l=>({}),nn=l=>({}),Ne=l=>({});function Te(l,e,t){const n=l.slice();return n[40]=e[t],n[42]=t,n}function Ae(l,e,t){const n=l.slice();return n[40]=e[t],n}function ln(l){let e,t,n,i,r=l[1]("common.error")+"",o,s,f;t=new St({props:{Icon:Vt,label:l[1]("common.clear"),disabled:!1}}),t.$on("click",l[32]);const a=l[30].error,u=rt(a,l,l[29],je);return{c(){e=R("div"),ot(t.$$.fragment),n=A(),i=R("span"),o=L(r),s=A(),u&&u.c(),I(e,"class","clear-status svelte-ls20lj"),I(i,"class","error svelte-ls20lj")},m(_,d){h(_,e,d),ct(t,e,null),h(_,n,d),h(_,i,d),Q(i,o),h(_,s,d),u&&u.m(_,d),f=!0},p(_,d){const m={};d[0]&2&&(m.label=_[1]("common.clear")),t.$set(m),(!f||d[0]&2)&&r!==(r=_[1]("common.error")+"")&&P(o,r),u&&u.p&&(!f||d[0]&536870912)&&dt(u,a,_,_[29],f?_t(a,_[29],d,tn):ut(_[29]),je)},i(_){f||(E(t.$$.fragment,_),E(u,_),f=!0)},o(_){W(t.$$.fragment,_),W(u,_),f=!1},d(_){_&&(g(e),g(n),g(i),g(s)),at(t),u&&u.d(_)}}}function sn(l){let e,t,n,i,r,o,s,f,a,u=l[8]==="default"&&l[18]&&l[6]==="full"&&Pe(l);function _(c,y){if(c[7])return an;if(c[2]!==null&&c[3]!==void 0&&c[2]>=0)return rn;if(c[2]===0)return on}let d=_(l),m=d&&d(l),b=l[5]&&Ee(l);const w=[cn,_n],k=[];function F(c,y){return c[15]!=null?0:c[6]==="full"?1:-1}~(r=F(l))&&(o=k[r]=w[r](l));let C=!l[5]&&We(l);return{c(){u&&u.c(),e=A(),t=R("div"),m&&m.c(),n=A(),b&&b.c(),i=A(),o&&o.c(),s=A(),C&&C.c(),f=ie(),I(t,"class","progress-text svelte-ls20lj"),T(t,"meta-text-center",l[8]==="center"),T(t,"meta-text",l[8]==="default")},m(c,y){u&&u.m(c,y),h(c,e,y),h(c,t,y),m&&m.m(t,null),Q(t,n),b&&b.m(t,null),h(c,i,y),~r&&k[r].m(c,y),h(c,s,y),C&&C.m(c,y),h(c,f,y),a=!0},p(c,y){c[8]==="default"&&c[18]&&c[6]==="full"?u?u.p(c,y):(u=Pe(c),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),d===(d=_(c))&&m?m.p(c,y):(m&&m.d(1),m=d&&d(c),m&&(m.c(),m.m(t,n))),c[5]?b?b.p(c,y):(b=Ee(c),b.c(),b.m(t,null)):b&&(b.d(1),b=null),(!a||y[0]&256)&&T(t,"meta-text-center",c[8]==="center"),(!a||y[0]&256)&&T(t,"meta-text",c[8]==="default");let j=r;r=F(c),r===j?~r&&k[r].p(c,y):(o&&(we(),W(k[j],1,1,()=>{k[j]=null}),be()),~r?(o=k[r],o?o.p(c,y):(o=k[r]=w[r](c),o.c()),E(o,1),o.m(s.parentNode,s)):o=null),c[5]?C&&(we(),W(C,1,1,()=>{C=null}),be()):C?(C.p(c,y),y[0]&32&&E(C,1)):(C=We(c),C.c(),E(C,1),C.m(f.parentNode,f))},i(c){a||(E(o),E(C),a=!0)},o(c){W(o),W(C),a=!1},d(c){c&&(g(e),g(t),g(i),g(s),g(f)),u&&u.d(c),m&&m.d(),b&&b.d(),~r&&k[r].d(c),C&&C.d(c)}}}function Pe(l){let e,t=`translateX(${(l[17]||0)*100-100}%)`;return{c(){e=R("div"),I(e,"class","eta-bar svelte-ls20lj"),K(e,"transform",t)},m(n,i){h(n,e,i)},p(n,i){i[0]&131072&&t!==(t=`translateX(${(n[17]||0)*100-100}%)`)&&K(e,"transform",t)},d(n){n&&g(e)}}}function on(l){let e;return{c(){e=L("processing |")},m(t,n){h(t,e,n)},p:ke,d(t){t&&g(e)}}}function rn(l){let e,t=l[2]+1+"",n,i,r,o;return{c(){e=L("queue: "),n=L(t),i=L("/"),r=L(l[3]),o=L(" |")},m(s,f){h(s,e,f),h(s,n,f),h(s,i,f),h(s,r,f),h(s,o,f)},p(s,f){f[0]&4&&t!==(t=s[2]+1+"")&&P(n,t),f[0]&8&&P(r,s[3])},d(s){s&&(g(e),g(n),g(i),g(r),g(o))}}}function an(l){let e,t=_e(l[7]),n=[];for(let i=0;i<t.length;i+=1)n[i]=De(Ae(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=ie()},m(i,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,r);h(i,e,r)},p(i,r){if(r[0]&128){t=_e(i[7]);let o;for(o=0;o<t.length;o+=1){const s=Ae(i,t,o);n[o]?n[o].p(s,r):(n[o]=De(s),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(i){i&&g(e),ft(n,i)}}}function Ze(l){let e,t=l[40].unit+"",n,i,r=" ",o;function s(u,_){return u[40].length!=null?un:fn}let f=s(l),a=f(l);return{c(){a.c(),e=A(),n=L(t),i=L(" | "),o=L(r)},m(u,_){a.m(u,_),h(u,e,_),h(u,n,_),h(u,i,_),h(u,o,_)},p(u,_){f===(f=s(u))&&a?a.p(u,_):(a.d(1),a=f(u),a&&(a.c(),a.m(e.parentNode,e))),_[0]&128&&t!==(t=u[40].unit+"")&&P(n,t)},d(u){u&&(g(e),g(n),g(i),g(o)),a.d(u)}}}function fn(l){let e=ee(l[40].index||0)+"",t;return{c(){t=L(e)},m(n,i){h(n,t,i)},p(n,i){i[0]&128&&e!==(e=ee(n[40].index||0)+"")&&P(t,e)},d(n){n&&g(t)}}}function un(l){let e=ee(l[40].index||0)+"",t,n,i=ee(l[40].length)+"",r;return{c(){t=L(e),n=L("/"),r=L(i)},m(o,s){h(o,t,s),h(o,n,s),h(o,r,s)},p(o,s){s[0]&128&&e!==(e=ee(o[40].index||0)+"")&&P(t,e),s[0]&128&&i!==(i=ee(o[40].length)+"")&&P(r,i)},d(o){o&&(g(t),g(n),g(r))}}}function De(l){let e,t=l[40].index!=null&&Ze(l);return{c(){t&&t.c(),e=ie()},m(n,i){t&&t.m(n,i),h(n,e,i)},p(n,i){n[40].index!=null?t?t.p(n,i):(t=Ze(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&g(e),t&&t.d(n)}}}function Ee(l){let e,t=l[0]?`/${l[19]}`:"",n,i;return{c(){e=L(l[20]),n=L(t),i=L("s")},m(r,o){h(r,e,o),h(r,n,o),h(r,i,o)},p(r,o){o[0]&1048576&&P(e,r[20]),o[0]&524289&&t!==(t=r[0]?`/${r[19]}`:"")&&P(n,t)},d(r){r&&(g(e),g(n),g(i))}}}function _n(l){let e,t;return e=new Xt({props:{margin:l[8]==="default"}}),{c(){ot(e.$$.fragment)},m(n,i){ct(e,n,i),t=!0},p(n,i){const r={};i[0]&256&&(r.margin=n[8]==="default"),e.$set(r)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){at(e,n)}}}function cn(l){let e,t,n,i,r,o=`${l[15]*100}%`,s=l[7]!=null&&Ie(l);return{c(){e=R("div"),t=R("div"),s&&s.c(),n=A(),i=R("div"),r=R("div"),I(t,"class","progress-level-inner svelte-ls20lj"),I(r,"class","progress-bar svelte-ls20lj"),K(r,"width",o),I(i,"class","progress-bar-wrap svelte-ls20lj"),I(e,"class","progress-level svelte-ls20lj")},m(f,a){h(f,e,a),Q(e,t),s&&s.m(t,null),Q(e,n),Q(e,i),Q(i,r),l[31](r)},p(f,a){f[7]!=null?s?s.p(f,a):(s=Ie(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),a[0]&32768&&o!==(o=`${f[15]*100}%`)&&K(r,"width",o)},i:ke,o:ke,d(f){f&&g(e),s&&s.d(),l[31](null)}}}function Ie(l){let e,t=_e(l[7]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Re(Te(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=ie()},m(i,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,r);h(i,e,r)},p(i,r){if(r[0]&16512){t=_e(i[7]);let o;for(o=0;o<t.length;o+=1){const s=Te(i,t,o);n[o]?n[o].p(s,r):(n[o]=Re(s),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(i){i&&g(e),ft(n,i)}}}function Be(l){let e,t,n,i,r=l[42]!==0&&dn(),o=l[40].desc!=null&&Ue(l),s=l[40].desc!=null&&l[14]&&l[14][l[42]]!=null&&He(),f=l[14]!=null&&Oe(l);return{c(){r&&r.c(),e=A(),o&&o.c(),t=A(),s&&s.c(),n=A(),f&&f.c(),i=ie()},m(a,u){r&&r.m(a,u),h(a,e,u),o&&o.m(a,u),h(a,t,u),s&&s.m(a,u),h(a,n,u),f&&f.m(a,u),h(a,i,u)},p(a,u){a[40].desc!=null?o?o.p(a,u):(o=Ue(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),a[40].desc!=null&&a[14]&&a[14][a[42]]!=null?s||(s=He(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),a[14]!=null?f?f.p(a,u):(f=Oe(a),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},d(a){a&&(g(e),g(t),g(n),g(i)),r&&r.d(a),o&&o.d(a),s&&s.d(a),f&&f.d(a)}}}function dn(l){let e;return{c(){e=L(" /")},m(t,n){h(t,e,n)},d(t){t&&g(e)}}}function Ue(l){let e=l[40].desc+"",t;return{c(){t=L(e)},m(n,i){h(n,t,i)},p(n,i){i[0]&128&&e!==(e=n[40].desc+"")&&P(t,e)},d(n){n&&g(t)}}}function He(l){let e;return{c(){e=L("-")},m(t,n){h(t,e,n)},d(t){t&&g(e)}}}function Oe(l){let e=(100*(l[14][l[42]]||0)).toFixed(1)+"",t,n;return{c(){t=L(e),n=L("%")},m(i,r){h(i,t,r),h(i,n,r)},p(i,r){r[0]&16384&&e!==(e=(100*(i[14][i[42]]||0)).toFixed(1)+"")&&P(t,e)},d(i){i&&(g(t),g(n))}}}function Re(l){let e,t=(l[40].desc!=null||l[14]&&l[14][l[42]]!=null)&&Be(l);return{c(){t&&t.c(),e=ie()},m(n,i){t&&t.m(n,i),h(n,e,i)},p(n,i){n[40].desc!=null||n[14]&&n[14][n[42]]!=null?t?t.p(n,i):(t=Be(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&g(e),t&&t.d(n)}}}function We(l){let e,t,n,i;const r=l[30]["additional-loading-text"],o=rt(r,l,l[29],Ne);return{c(){e=R("p"),t=L(l[9]),n=A(),o&&o.c(),I(e,"class","loading svelte-ls20lj")},m(s,f){h(s,e,f),Q(e,t),h(s,n,f),o&&o.m(s,f),i=!0},p(s,f){(!i||f[0]&512)&&P(t,s[9]),o&&o.p&&(!i||f[0]&536870912)&&dt(o,r,s,s[29],i?_t(r,s[29],f,nn):ut(s[29]),Ne)},i(s){i||(E(o,s),i=!0)},o(s){W(o,s),i=!1},d(s){s&&(g(e),g(n)),o&&o.d(s)}}}function mn(l){let e,t,n,i,r;const o=[sn,ln],s=[];function f(a,u){return a[4]==="pending"?0:a[4]==="error"?1:-1}return~(t=f(l))&&(n=s[t]=o[t](l)),{c(){e=R("div"),n&&n.c(),I(e,"class",i="wrap "+l[8]+" "+l[6]+" svelte-ls20lj"),T(e,"hide",!l[4]||l[4]==="complete"||l[6]==="hidden"||l[4]=="streaming"),T(e,"translucent",l[8]==="center"&&(l[4]==="pending"||l[4]==="error")||l[11]||l[6]==="minimal"),T(e,"generating",l[4]==="generating"&&l[6]==="full"),T(e,"border",l[12]),K(e,"position",l[10]?"absolute":"static"),K(e,"padding",l[10]?"0":"var(--size-8) 0")},m(a,u){h(a,e,u),~t&&s[t].m(e,null),l[33](e),r=!0},p(a,u){let _=t;t=f(a),t===_?~t&&s[t].p(a,u):(n&&(we(),W(s[_],1,1,()=>{s[_]=null}),be()),~t?(n=s[t],n?n.p(a,u):(n=s[t]=o[t](a),n.c()),E(n,1),n.m(e,null)):n=null),(!r||u[0]&320&&i!==(i="wrap "+a[8]+" "+a[6]+" svelte-ls20lj"))&&I(e,"class",i),(!r||u[0]&336)&&T(e,"hide",!a[4]||a[4]==="complete"||a[6]==="hidden"||a[4]=="streaming"),(!r||u[0]&2384)&&T(e,"translucent",a[8]==="center"&&(a[4]==="pending"||a[4]==="error")||a[11]||a[6]==="minimal"),(!r||u[0]&336)&&T(e,"generating",a[4]==="generating"&&a[6]==="full"),(!r||u[0]&4416)&&T(e,"border",a[12]),u[0]&1024&&K(e,"position",a[10]?"absolute":"static"),u[0]&1024&&K(e,"padding",a[10]?"0":"var(--size-8) 0")},i(a){r||(E(n),r=!0)},o(a){W(n),r=!1},d(a){a&&g(e),~t&&s[t].d(),l[33](null)}}}let fe=[],pe=!1;const pn=typeof window<"u",mt=pn?window.requestAnimationFrame:l=>{};async function gn(l,e=!0){if(!(window.__gradio_mode__==="website"||window.__gradio_mode__!=="app"&&e!==!0)){if(fe.push(l),!pe)pe=!0;else return;await Qt(),mt(()=>{let t=[0,0];for(let n=0;n<fe.length;n++){const r=fe[n].getBoundingClientRect();(n===0||r.top+window.scrollY<=t[0])&&(t[0]=r.top+window.scrollY,t[1]=n)}window.scrollTo({top:t[0]-20,behavior:"smooth"}),pe=!1,fe=[]})}}function hn(l,e,t){let n,{$$slots:i={},$$scope:r}=e;const o=en();let{i18n:s}=e,{eta:f=null}=e,{queue_position:a}=e,{queue_size:u}=e,{status:_}=e,{scroll_to_output:d=!1}=e,{timer:m=!0}=e,{show_progress:b="full"}=e,{message:w=null}=e,{progress:k=null}=e,{variant:F="default"}=e,{loading_text:C="Loading..."}=e,{absolute:c=!0}=e,{translucent:y=!1}=e,{border:j=!1}=e,{autoscroll:X}=e,B,U=!1,H=0,q=0,O=null,Y=null,se=0,V=null,G,v=null,z=!0;const oe=()=>{t(0,f=t(27,O=t(19,re=null))),t(25,H=performance.now()),t(26,q=0),U=!0,ye()};function ye(){mt(()=>{t(26,q=(performance.now()-H)/1e3),U&&ye()})}function $e(){t(26,q=0),t(0,f=t(27,O=t(19,re=null))),U&&(U=!1)}xt(()=>{U&&$e()});let re=null;function $t(p){Ve[p?"unshift":"push"](()=>{v=p,t(16,v),t(7,k),t(14,V),t(15,G)})}const Ft=()=>{o("clear_status")};function Ct(p){Ve[p?"unshift":"push"](()=>{B=p,t(13,B)})}return l.$$set=p=>{"i18n"in p&&t(1,s=p.i18n),"eta"in p&&t(0,f=p.eta),"queue_position"in p&&t(2,a=p.queue_position),"queue_size"in p&&t(3,u=p.queue_size),"status"in p&&t(4,_=p.status),"scroll_to_output"in p&&t(22,d=p.scroll_to_output),"timer"in p&&t(5,m=p.timer),"show_progress"in p&&t(6,b=p.show_progress),"message"in p&&t(23,w=p.message),"progress"in p&&t(7,k=p.progress),"variant"in p&&t(8,F=p.variant),"loading_text"in p&&t(9,C=p.loading_text),"absolute"in p&&t(10,c=p.absolute),"translucent"in p&&t(11,y=p.translucent),"border"in p&&t(12,j=p.border),"autoscroll"in p&&t(24,X=p.autoscroll),"$$scope"in p&&t(29,r=p.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&436207617&&(f===null&&t(0,f=O),f!=null&&O!==f&&(t(28,Y=(performance.now()-H)/1e3+f),t(19,re=Y.toFixed(1)),t(27,O=f))),l.$$.dirty[0]&335544320&&t(17,se=Y===null||Y<=0||!q?null:Math.min(q/Y,1)),l.$$.dirty[0]&128&&k!=null&&t(18,z=!1),l.$$.dirty[0]&114816&&(k!=null?t(14,V=k.map(p=>{if(p.index!=null&&p.length!=null)return p.index/p.length;if(p.progress!=null)return p.progress})):t(14,V=null),V?(t(15,G=V[V.length-1]),v&&(G===0?t(16,v.style.transition="0",v):t(16,v.style.transition="150ms",v))):t(15,G=void 0)),l.$$.dirty[0]&16&&(_==="pending"?oe():$e()),l.$$.dirty[0]&20979728&&B&&d&&(_==="pending"||_==="complete")&&gn(B,X),l.$$.dirty[0]&8388624,l.$$.dirty[0]&67108864&&t(20,n=q.toFixed(1))},[f,s,a,u,_,m,b,k,F,C,c,y,j,B,V,G,v,se,z,re,n,o,d,w,X,H,q,O,Y,r,i,$t,Ft,Ct]}class $l extends Gt{constructor(e){super(),Jt(this,e,hn,mn,Kt,{i18n:1,eta:0,queue_position:2,queue_size:3,status:4,scroll_to_output:22,timer:5,show_progress:6,message:23,progress:7,variant:8,loading_text:9,absolute:10,translucent:11,border:12,autoscroll:24},null,[-1,-1])}get i18n(){return this.$$.ctx[1]}set i18n(e){this.$$set({i18n:e}),S()}get eta(){return this.$$.ctx[0]}set eta(e){this.$$set({eta:e}),S()}get queue_position(){return this.$$.ctx[2]}set queue_position(e){this.$$set({queue_position:e}),S()}get queue_size(){return this.$$.ctx[3]}set queue_size(e){this.$$set({queue_size:e}),S()}get status(){return this.$$.ctx[4]}set status(e){this.$$set({status:e}),S()}get scroll_to_output(){return this.$$.ctx[22]}set scroll_to_output(e){this.$$set({scroll_to_output:e}),S()}get timer(){return this.$$.ctx[5]}set timer(e){this.$$set({timer:e}),S()}get show_progress(){return this.$$.ctx[6]}set show_progress(e){this.$$set({show_progress:e}),S()}get message(){return this.$$.ctx[23]}set message(e){this.$$set({message:e}),S()}get progress(){return this.$$.ctx[7]}set progress(e){this.$$set({progress:e}),S()}get variant(){return this.$$.ctx[8]}set variant(e){this.$$set({variant:e}),S()}get loading_text(){return this.$$.ctx[9]}set loading_text(e){this.$$set({loading_text:e}),S()}get absolute(){return this.$$.ctx[10]}set absolute(e){this.$$set({absolute:e}),S()}get translucent(){return this.$$.ctx[11]}set translucent(e){this.$$set({translucent:e}),S()}get border(){return this.$$.ctx[12]}set border(e){this.$$set({border:e}),S()}get autoscroll(){return this.$$.ctx[24]}set autoscroll(e){this.$$set({autoscroll:e}),S()}}function bn(l,{from:e,to:t},n={}){const i=getComputedStyle(l),r=i.transform==="none"?"":i.transform,[o,s]=i.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*o/t.width-(t.left+o),a=e.top+e.height*s/t.height-(t.top+s),{delay:u=0,duration:_=m=>Math.sqrt(m)*120,easing:d=ve}=n;return{delay:u,duration:Mt(_)?_(Math.sqrt(f*f+a*a)):_,easing:d,css:(m,b)=>{const w=b*f,k=b*a,F=m+b*e.width/t.width,C=m+b*e.height/t.height;return`transform: ${r} translate(${w}px, ${k}px) scale(${F}, ${C});`}}}const wn=(l,e=location.href)=>{try{return!!l&&new URL(l).origin!==new URL(e).origin}catch{return!1}};function kn(l){const e=new Pt,t=new DOMParser().parseFromString(l,"text/html");return pt(t.body,"A",n=>{n instanceof HTMLElement&&"target"in n&&wn(n.getAttribute("href"),location.href)&&(n.setAttribute("target","_blank"),n.setAttribute("rel","noopener noreferrer"))}),e.sanitize(t).body.innerHTML}function pt(l,e,t){l&&l.nodeName===e&&t(l);const n=l?.childNodes||[];for(let i=0;i<n.length;i++)pt(n[i],e,t)}function Ye(l,{delay:e=0,duration:t=400,easing:n=zt}={}){const i=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*i}`}}function Fl(l,{delay:e=0,duration:t=400,easing:n=ve,x:i=0,y:r=0,opacity:o=0}={}){const s=getComputedStyle(l),f=+s.opacity,a=s.transform==="none"?"":s.transform,u=f*(1-o),[_,d]=Fe(i),[m,b]=Fe(r);return{delay:e,duration:t,easing:n,css:(w,k)=>`
			transform: ${a} translate(${(1-w)*_}${d}, ${(1-w)*m}${b});
			opacity: ${f-u*k}`}}function Cl(l,{delay:e=0,duration:t=400,easing:n=ve,axis:i="y"}={}){const r=getComputedStyle(l),o=+r.opacity,s=i==="y"?"height":"width",f=parseFloat(r[s]),a=i==="y"?["top","bottom"]:["left","right"],u=a.map(F=>`${F[0].toUpperCase()}${F.slice(1)}`),_=parseFloat(r[`padding${u[0]}`]),d=parseFloat(r[`padding${u[1]}`]),m=parseFloat(r[`margin${u[0]}`]),b=parseFloat(r[`margin${u[1]}`]),w=parseFloat(r[`border${u[0]}Width`]),k=parseFloat(r[`border${u[1]}Width`]);return{delay:e,duration:t,easing:n,css:F=>`overflow: hidden;opacity: ${Math.min(F*20,1)*o};${s}: ${F*f}px;padding-${a[0]}: ${F*_}px;padding-${a[1]}: ${F*d}px;margin-${a[0]}: ${F*m}px;margin-${a[1]}: ${F*b}px;border-${a[0]}-width: ${F*w}px;border-${a[1]}-width: ${F*k}px;`}}const{SvelteComponent:vn,add_render_callback:yn,append:N,attr:M,bubble:Xe,check_outros:$n,create_component:ce,create_in_transition:Fn,create_out_transition:Cn,destroy_component:de,detach:qn,element:J,flush:x,group_outros:Ln,init:Mn,insert:zn,listen:ge,mount_component:me,run_all:Sn,safe_not_equal:Vn,set_data:jn,space:ue,stop_propagation:Ge,text:Nn,toggle_class:Je,transition_in:ne,transition_out:le}=window.__gradio__svelte__internal,{createEventDispatcher:Tn,onMount:An}=window.__gradio__svelte__internal;function Pn(l){let e,t;return e=new At({}),{c(){ce(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){le(e.$$.fragment,n),t=!1},d(n){de(e,n)}}}function Zn(l){let e,t;return e=new Tt({}),{c(){ce(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){le(e.$$.fragment,n),t=!1},d(n){de(e,n)}}}function Dn(l){let e,t;return e=new Nt({}),{c(){ce(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){le(e.$$.fragment,n),t=!1},d(n){de(e,n)}}}function En(l){let e,t;return e=new jt({}),{c(){ce(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){le(e.$$.fragment,n),t=!1},d(n){de(e,n)}}}function In(l){let e,t,n,i,r,o,s,f,a,u,_,d,m,b,w,k,F,C,c,y,j,X,B,U,H,q,O,Y;const se=[En,Dn,Zn,Pn],V=[];function G(v,z){return v[2]==="warning"?0:v[2]==="info"?1:v[2]==="success"?2:v[2]==="error"?3:-1}return~(n=G(l))&&(i=V[n]=se[n](l)),{c(){e=J("div"),t=J("div"),i&&i.c(),o=ue(),s=J("div"),f=J("div"),a=Nn(l[1]),_=ue(),d=J("div"),w=ue(),k=J("button"),F=J("span"),F.textContent="×",c=ue(),y=J("div"),M(t,"class",r="toast-icon "+l[2]+" svelte-fee5uc"),M(f,"class",u="toast-title "+l[2]+" svelte-fee5uc"),M(d,"class",m="toast-text "+l[2]+" svelte-fee5uc"),M(s,"class",b="toast-details "+l[2]+" svelte-fee5uc"),M(F,"aria-hidden","true"),M(k,"class",C="toast-close "+l[2]+" svelte-fee5uc"),M(k,"type","button"),M(k,"aria-label","Close"),M(k,"data-testid","toast-close"),M(y,"class",j="timer "+l[2]+" svelte-fee5uc"),M(y,"style",X=`animation-duration: ${l[3]};`),M(e,"class",B="toast-body "+l[2]+" svelte-fee5uc"),M(e,"role","alert"),M(e,"data-testid","toast-body"),Je(e,"hidden",!l[4])},m(v,z){zn(v,e,z),N(e,t),~n&&V[n].m(t,null),N(e,o),N(e,s),N(s,f),N(f,a),N(s,_),N(s,d),d.innerHTML=l[0],N(e,w),N(e,k),N(k,F),N(e,c),N(e,y),q=!0,O||(Y=[ge(k,"click",l[5]),ge(e,"click",Ge(l[9])),ge(e,"keydown",Ge(l[10]))],O=!0)},p(v,[z]){let oe=n;n=G(v),n!==oe&&(i&&(Ln(),le(V[oe],1,1,()=>{V[oe]=null}),$n()),~n?(i=V[n],i||(i=V[n]=se[n](v),i.c()),ne(i,1),i.m(t,null)):i=null),(!q||z&4&&r!==(r="toast-icon "+v[2]+" svelte-fee5uc"))&&M(t,"class",r),(!q||z&2)&&jn(a,v[1]),(!q||z&4&&u!==(u="toast-title "+v[2]+" svelte-fee5uc"))&&M(f,"class",u),(!q||z&1)&&(d.innerHTML=v[0]),(!q||z&4&&m!==(m="toast-text "+v[2]+" svelte-fee5uc"))&&M(d,"class",m),(!q||z&4&&b!==(b="toast-details "+v[2]+" svelte-fee5uc"))&&M(s,"class",b),(!q||z&4&&C!==(C="toast-close "+v[2]+" svelte-fee5uc"))&&M(k,"class",C),(!q||z&4&&j!==(j="timer "+v[2]+" svelte-fee5uc"))&&M(y,"class",j),(!q||z&8&&X!==(X=`animation-duration: ${v[3]};`))&&M(y,"style",X),(!q||z&4&&B!==(B="toast-body "+v[2]+" svelte-fee5uc"))&&M(e,"class",B),(!q||z&20)&&Je(e,"hidden",!v[4])},i(v){q||(ne(i),v&&yn(()=>{q&&(H&&H.end(1),U=Fn(e,Ye,{duration:200,delay:100}),U.start())}),q=!0)},o(v){le(i),U&&U.invalidate(),v&&(H=Cn(e,Ye,{duration:200})),q=!1},d(v){v&&qn(e),~n&&V[n].d(),v&&H&&H.end(),O=!1,Sn(Y)}}}function Bn(l,e,t){let n,i,{title:r=""}=e,{message:o=""}=e,{type:s}=e,{id:f}=e,{duration:a=10}=e,{visible:u=!0}=e;const _=Tn();function d(){_("close",f)}An(()=>{a!==null&&setTimeout(()=>{d()},a*1e3)});function m(w){Xe.call(this,l,w)}function b(w){Xe.call(this,l,w)}return l.$$set=w=>{"title"in w&&t(1,r=w.title),"message"in w&&t(0,o=w.message),"type"in w&&t(2,s=w.type),"id"in w&&t(7,f=w.id),"duration"in w&&t(6,a=w.duration),"visible"in w&&t(8,u=w.visible)},l.$$.update=()=>{l.$$.dirty&1&&t(0,o=kn(o)),l.$$.dirty&256&&t(4,n=u),l.$$.dirty&64&&t(6,a=a||null),l.$$.dirty&64&&t(3,i=`${a||0}s`)},[o,r,s,i,n,d,a,f,u,m,b]}class Un extends vn{constructor(e){super(),Mn(this,e,Bn,In,Vn,{title:1,message:0,type:2,id:7,duration:6,visible:8})}get title(){return this.$$.ctx[1]}set title(e){this.$$set({title:e}),x()}get message(){return this.$$.ctx[0]}set message(e){this.$$set({message:e}),x()}get type(){return this.$$.ctx[2]}set type(e){this.$$set({type:e}),x()}get id(){return this.$$.ctx[7]}set id(e){this.$$set({id:e}),x()}get duration(){return this.$$.ctx[6]}set duration(e){this.$$set({duration:e}),x()}get visible(){return this.$$.ctx[8]}set visible(e){this.$$set({visible:e}),x()}}const{SvelteComponent:Hn,append:On,attr:Rn,bubble:Wn,check_outros:Yn,create_animation:Xn,create_component:Gn,destroy_component:Jn,detach:gt,element:ht,ensure_array_like:Ke,fix_and_outro_and_destroy_block:Kn,fix_position:Qn,flush:xn,group_outros:el,init:tl,insert:bt,mount_component:nl,noop:ll,safe_not_equal:il,set_style:sl,space:ol,transition_in:wt,transition_out:kt,update_keyed_each:rl}=window.__gradio__svelte__internal;function Qe(l,e,t){const n=l.slice();return n[2]=e[t].type,n[3]=e[t].title,n[4]=e[t].message,n[5]=e[t].id,n[6]=e[t].duration,n[7]=e[t].visible,n}function xe(l,e){let t,n,i,r,o=ll,s;return n=new Un({props:{type:e[2],title:e[3],message:e[4],duration:e[6],visible:e[7],id:e[5]}}),n.$on("close",e[1]),{key:l,first:null,c(){t=ht("div"),Gn(n.$$.fragment),i=ol(),sl(t,"width","100%"),this.first=t},m(f,a){bt(f,t,a),nl(n,t,null),On(t,i),s=!0},p(f,a){e=f;const u={};a&1&&(u.type=e[2]),a&1&&(u.title=e[3]),a&1&&(u.message=e[4]),a&1&&(u.duration=e[6]),a&1&&(u.visible=e[7]),a&1&&(u.id=e[5]),n.$set(u)},r(){r=t.getBoundingClientRect()},f(){Qn(t),o()},a(){o(),o=Xn(t,r,bn,{duration:300})},i(f){s||(wt(n.$$.fragment,f),s=!0)},o(f){kt(n.$$.fragment,f),s=!1},d(f){f&&gt(t),Jn(n)}}}function al(l){let e,t=[],n=new Map,i,r=Ke(l[0]);const o=s=>s[5];for(let s=0;s<r.length;s+=1){let f=Qe(l,r,s),a=o(f);n.set(a,t[s]=xe(a,f))}return{c(){e=ht("div");for(let s=0;s<t.length;s+=1)t[s].c();Rn(e,"class","toast-wrap svelte-pu0yf1")},m(s,f){bt(s,e,f);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);i=!0},p(s,[f]){if(f&1){r=Ke(s[0]),el();for(let a=0;a<t.length;a+=1)t[a].r();t=rl(t,f,o,1,s,r,n,e,Kn,xe,null,Qe);for(let a=0;a<t.length;a+=1)t[a].a();Yn()}},i(s){if(!i){for(let f=0;f<r.length;f+=1)wt(t[f]);i=!0}},o(s){for(let f=0;f<t.length;f+=1)kt(t[f]);i=!1},d(s){s&&gt(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function fl(l){l.length>0&&"parentIFrame"in window&&window.parentIFrame?.scrollTo(0,0)}function ul(l,e,t){let{messages:n=[]}=e;function i(r){Wn.call(this,l,r)}return l.$$set=r=>{"messages"in r&&t(0,n=r.messages)},l.$$.update=()=>{l.$$.dirty&1&&fl(n)},[n,i]}class ql extends Hn{constructor(e){super(),tl(this,e,ul,al,il,{messages:0})}get messages(){return this.$$.ctx[0]}set messages(e){this.$$set({messages:e}),xn()}}const{SvelteComponent:_l,attr:cl,detach:vt,element:dl,empty:ml,flush:pl,init:gl,insert:yt,noop:et,safe_not_equal:hl,set_style:tt}=window.__gradio__svelte__internal;function nt(l){let e,t=`${l[0]}s`;return{c(){e=dl("div"),cl(e,"class","streaming-bar svelte-roz8lq"),tt(e,"animation-duration",t)},m(n,i){yt(n,e,i)},p(n,i){i&1&&t!==(t=`${n[0]}s`)&&tt(e,"animation-duration",t)},d(n){n&&vt(e)}}}function bl(l){let e,t=l[0]&&nt(l);return{c(){t&&t.c(),e=ml()},m(n,i){t&&t.m(n,i),yt(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=nt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:et,o:et,d(n){n&&vt(e),t&&t.d(n)}}}function wl(l,e,t){let{time_limit:n}=e;return l.$$set=i=>{"time_limit"in i&&t(0,n=i.time_limit)},[n]}class Ll extends _l{constructor(e){super(),gl(this,e,wl,bl,hl,{time_limit:0})}get time_limit(){return this.$$.ctx[0]}set time_limit(e){this.$$set({time_limit:e}),pl()}}export{Xt as L,$l as S,ql as T,Ll as a,Fl as b,Le as c,Ye as f,qe as i,Zt as l,Ce as n,Cl as s};
//# sourceMappingURL=StreamingBar-DwBbQPSd.js.map
